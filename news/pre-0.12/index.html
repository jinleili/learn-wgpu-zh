<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>News (Pre 0.12) | 学习 wgpu</title><meta name="description" content="使用 Rust 学习 wgpu">
    <link rel="preload" href="/learn-wgpu-zh/assets/js/runtime~app.241bf641.js" as="script"><link rel="preload" href="/learn-wgpu-zh/assets/css/styles.f5314d33.css" as="style"><link rel="preload" href="/learn-wgpu-zh/assets/js/9141.74699445.js" as="script"><link rel="preload" href="/learn-wgpu-zh/assets/js/app.9d04aef4.js" as="script"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-2d69bb60.8f1ca017.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-bfc81dd6.b73eb736.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-4249d10f.eee900c7.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-82a25e06.552c39b9.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-2168b6f4.4ab45842.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-1d87647f.0e356af1.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-5ffceace.91694fc6.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b2c95ce4.1cab57a7.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-5d0cc617.dd880729.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-627538dd.1b64b8cc.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-220b0cd1.a07c9b49.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-64802336.02e2aa6b.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-31840cac.17946748.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b117cf7e.d8459c2f.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/1162.2ea6707c.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/3475.a809e012.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/5883.5147f7d5.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/7937.ce4c90cb.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/1426.87fee456.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/2307.a4b1569f.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/381.14108687.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/662.1adc6c1b.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b3ccb192.bab98a46.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/2277.bf1af19b.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/4970.5aae0d9f.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/5137.72720074.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-0440027a.2fa544dd.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-2b11540d.31acdeb9.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-1f0489a3.fa2660ff.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-7db95cc0.d446e4ec.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-25d83dbe.58bcf5f0.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/6321.2154bf48.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/5421.ea0a9875.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/4839.38de57f2.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/416.263c3017.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/2922.07ac6f22.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/4607.4c710cc5.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/1769.a6f87e60.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/7854.4bf820b5.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/7255.ec42f8b1.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/5734.0dce093b.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/6402.6d66210a.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/9292.fb0e80aa.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b2a9f5e8.a5dbe0a1.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/4204.63b46fe4.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-6b60e296.89a420d9.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b2a9f626.aa5d69de.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-8daa1a0e.78a30ac8.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-8b4c6ddc.97658d48.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/9944.efbaf280.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-afc761bc.9b5975c9.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/2076.158ecac5.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-3706649a.a69da219.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/75.ccb1e0c7.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/css/9253.styles.173ab900.css"><link rel="prefetch" href="/learn-wgpu-zh/assets/css/1610.styles.a289f906.css">
    <link rel="stylesheet" href="/learn-wgpu-zh/assets/css/styles.f5314d33.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/learn-wgpu-zh/" class=""><!----><span class="site-name">学习 wgpu</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/learn-wgpu-zh/news/pre-0.12/" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://sotrh.github.io/learn-wgpu/" rel="noopener noreferrer" target="_blank" aria-label="English"><!--[--><!--]--> English <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/jinleili/learn-wgpu-zh" rel="noopener noreferrer" target="_blank" aria-label="《Learn wgpu》中文版"><!--[--><!--]--> 《Learn wgpu》中文版 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/learn-wgpu-zh/news/pre-0.12/" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://sotrh.github.io/learn-wgpu/" rel="noopener noreferrer" target="_blank" aria-label="English"><!--[--><!--]--> English <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/jinleili/learn-wgpu-zh" rel="noopener noreferrer" target="_blank" aria-label="《Learn wgpu》中文版"><!--[--><!--]--> 《Learn wgpu》中文版 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/learn-wgpu-zh/" class="sidebar-item sidebar-heading" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading">基础 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/learn-wgpu-zh/beginner/tutorial1-window/" class="sidebar-item" aria-label="依赖与窗口"><!--[--><!--]--> 依赖与窗口 <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial2-surface/" class="sidebar-item" aria-label="展示平面 (Surface)"><!--[--><!--]--> 展示平面 (Surface) <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial3-pipeline/" class="sidebar-item" aria-label="管线 (Pipeline)"><!--[--><!--]--> 管线 (Pipeline) <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial4-buffer/" class="sidebar-item" aria-label="缓冲区与索引"><!--[--><!--]--> 缓冲区与索引 <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial5-textures/" class="sidebar-item" aria-label="纹理和绑定组"><!--[--><!--]--> 纹理和绑定组 <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial6-uniforms/" class="sidebar-item" aria-label="Uniform 缓冲区与 3D 虚拟摄像机"><!--[--><!--]--> Uniform 缓冲区与 3D 虚拟摄像机 <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial7-instancing/" class="sidebar-item" aria-label="实例化绘制"><!--[--><!--]--> 实例化绘制 <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial8-depth/" class="sidebar-item" aria-label="深度缓冲区"><!--[--><!--]--> 深度缓冲区 <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial9-models/" class="sidebar-item" aria-label="模型加载"><!--[--><!--]--> 模型加载 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">进阶 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/learn-wgpu-zh/intermediate/tutorial10-lighting/" class="sidebar-item" aria-label="光照"><!--[--><!--]--> 光照 <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/intermediate/tutorial11-normals/" class="sidebar-item" aria-label="法线映射"><!--[--><!--]--> 法线映射 <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/intermediate/tutorial12-camera/" class="sidebar-item" aria-label="更好的摄像机"><!--[--><!--]--> 更好的摄像机 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">案例展示 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/learn-wgpu-zh/showcase/windowless/" class="sidebar-item" aria-label="离屏渲染"><!--[--><!--]--> 离屏渲染 <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/gifs/" class="sidebar-item" aria-label="Creating gifs"><!--[--><!--]--> Creating gifs <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/pong/" class="sidebar-item" aria-label="Pong"><!--[--><!--]--> Pong <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/compute/" class="sidebar-item" aria-label="Compute Example: Tangents and Bitangents"><!--[--><!--]--> Compute Example: Tangents and Bitangents <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/alignment/" class="sidebar-item" aria-label="Memory Layout in WGSL"><!--[--><!--]--> Memory Layout in WGSL <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/imgui-demo/" class="sidebar-item" aria-label="Basic Imgui Demo"><!--[--><!--]--> Basic Imgui Demo <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/learn-wgpu-zh/GLOSSARY_OF_TERMS.html" class="sidebar-item sidebar-heading" aria-label="术语中英对照表"><!--[--><!--]--> 术语中英对照表 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="news-pre-0-12" tabindex="-1"><a class="header-anchor" href="#news-pre-0-12" aria-hidden="true">#</a> News (Pre 0.12)</h1><h2 id="pong-working-on-the-web" tabindex="-1"><a class="header-anchor" href="#pong-working-on-the-web" aria-hidden="true">#</a> Pong working on the web</h2><p>This took a little while to figure out. I ended up using wasm-pack to create the wasm as I was having trouble with getting wasm-bindgen to work. I figured it out eventually but decided to keep using wasm-pack as I felt that the workflow would be more friendly to readers.</p><p>I would have released this sooner, but I wanted to add support for touch so that people on their phones could play the game. It appears that winit doesn&#39;t record touch events for WASM, so I shelved that idea.</p><p>If you want to check out the demo, just head over to <a href="/learn-wgpu-zh/news/showcase/pong/#wasm-support" class="">the write up</a></p><h2 id="_0-12-further-changes-to-surface" tabindex="-1"><a class="header-anchor" href="#_0-12-further-changes-to-surface" aria-hidden="true">#</a> 0.12 further changes to Surface</h2><p><code>SwapchainFrame</code> is no longer a thing. Instead <code>get_current_texture</code> will return a <code>SurfaceTexture</code> directly. This means that getting a frame to draw to looks somethings like this:</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>surface<span class="token punctuation">.</span><span class="token function">get_current_texture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> view <span class="token operator">=</span> output
    <span class="token punctuation">.</span>texture
    <span class="token punctuation">.</span><span class="token function">create_view</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">TextureViewDescriptor</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Another change is that you must call <code>SurfaceTexture::present()</code> after you submit your render command buffers to the <code>queue</code>. It goes something like this:</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">self</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token namespace">iter<span class="token punctuation">::</span></span><span class="token function">once</span><span class="token punctuation">(</span>encoder<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
output<span class="token punctuation">.</span><span class="token function">present</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>There are a good deal of internal changes such as WebGL support (which I really need to cover). You can check out more on wgpu&#39;s <a href="https://github.com/gfx-rs/wgpu/blob/master/CHANGELOG.md#wgpu-011-2021-10-07" target="_blank" rel="noopener noreferrer">changelog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h2 id="pong-is-fixed-for-0-10" tabindex="-1"><a class="header-anchor" href="#pong-is-fixed-for-0-10" aria-hidden="true">#</a> Pong is fixed for 0.10</h2><p>It wasn&#39;t actually that hard of a fix. I only really use the swapchain directly in the render module, and the only other change required me to include the <code>spirv</code> feature to wgpu in Cargo.toml.</p><h2 id="_0-10-swapchain-is-dead-long-live-the-surface" tabindex="-1"><a class="header-anchor" href="#_0-10-swapchain-is-dead-long-live-the-surface" aria-hidden="true">#</a> 0.10 SwapChain is dead, long live the Surface!</h2><p><code>SwapChain</code> and all related code has been removed from wgpu. All code pertaining to obtaining textures to draw to from the window will be available from the <code>Surface</code> instead. That means configuring <code>SurfaceTexture</code>s will look something like this:</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">SurfaceConfiguration</span> <span class="token punctuation">{</span>
    usage<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">TextureUsages</span><span class="token punctuation">::</span><span class="token constant">RENDER_ATTACHMENT</span><span class="token punctuation">,</span>
    format<span class="token punctuation">:</span> surface<span class="token punctuation">.</span><span class="token function">get_supported_formats</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>adapter<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    width<span class="token punctuation">:</span> size<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> size<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
    present_mode<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PresentMode</span><span class="token punctuation">::</span><span class="token class-name">Fifo</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
surface<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>device<span class="token punctuation">,</span> <span class="token operator">&amp;</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Resizing the surface will use similar code:</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">if</span> new_size<span class="token punctuation">.</span>width <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> new_size<span class="token punctuation">.</span>height <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>size <span class="token operator">=</span> new_size<span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>width <span class="token operator">=</span> new_size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>height <span class="token operator">=</span> new_size<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>surface<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>device<span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Finally, getting a <code>SurfaceTexture</code> to draw to will use the surface directly.</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>surface<span class="token punctuation">.</span><span class="token function">get_current_texture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> view <span class="token operator">=</span> output
    <span class="token punctuation">.</span>texture
    <span class="token punctuation">.</span><span class="token function">create_view</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">TextureViewDescriptor</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The Pong and imgui examples are broken again. I may remove the imgui example as the corresponding crate already has examples of how to use it. I&#39;m also considering reworking the Pong example, but I may end up just updating it.</p><h2 id="pong-and-imgui-demos-are-fixed" tabindex="-1"><a class="header-anchor" href="#pong-and-imgui-demos-are-fixed" aria-hidden="true">#</a> Pong and imgui demos are fixed!</h2><p>The <code>imgui_wgpu</code> and <code>wgpu_glyph</code> crates have been updated to <code>wgpu</code> 0.8 so I was able to fix the demos! They both still use GLSL, and I don&#39;t think I&#39;ll be changing that for now. I may switch them over to <code>naga</code> at some point.</p><h2 id="_0-8-and-wgsl" tabindex="-1"><a class="header-anchor" href="#_0-8-and-wgsl" aria-hidden="true">#</a> 0.8 and WGSL</h2><h3 id="the-glsl-shaders-have-been-translated-to-wgsl" tabindex="-1"><a class="header-anchor" href="#the-glsl-shaders-have-been-translated-to-wgsl" aria-hidden="true">#</a> The GLSL shaders have been translated to WGSL</h3><p>Originally I wanted to wait until the WGSL spec fully stabilized, but due to some issues with the GLSL code, I&#39;ve decided to switch over the code now. While GLSL is supported by WebGPU, it&#39;s currently secondary to WGSL. I&#39;ll keep an example of how to use GLSL (and maybe add HLSL and Metal as well), but I&#39;m going to use WGSL from now on.</p><h3 id="shaderc-has-been-removed" tabindex="-1"><a class="header-anchor" href="#shaderc-has-been-removed" aria-hidden="true">#</a> Shaderc has been removed</h3><p>I&#39;ve been thinking about doing this for a while now. Because shaderc is a c library, it often has to be redownloaded during builds. This has been slowing down my ability to add new content and maintain old content. I had been considering switching to naga earlier, but some of my shaders (notably the lighting ones) weren&#39;t compiling with naga as I was using features not available for compatibility reasons (<code>inverse</code> is not available in all languages targeting spirv).</p><p>Since I needed to make a bunch of changes to the code base to make the glsl, and because I wanted to switch the tutorial to WGSL anyways, I decided to bite the bullet and recode everything in WGSL and remove shaderc from the tutorials.</p><h3 id="some-of-the-showcase-examples-are-broken" tabindex="-1"><a class="header-anchor" href="#some-of-the-showcase-examples-are-broken" aria-hidden="true">#</a> Some of the showcase examples are broken</h3><p>The <code>wgpu_glyph</code>, and <code>imgui-wgpu</code> crates currently depend on <code>wgpu</code> 0.7, which is causing the <code>pong</code> and <code>imgui-demo</code> to not compile. I decided to exclude them from the workspace until the underlying crates update to using <code>wgpu</code> 0.8. (Feel free to submit a issue or even PR when that happens!)</p><h3 id="various-api-changes" tabindex="-1"><a class="header-anchor" href="#various-api-changes" aria-hidden="true">#</a> Various API changes</h3><ul><li>The <code>depth</code> field is now <code>depth_or_array_layers</code></li><li><code>wgpu::VertexFormat::Float3</code> is now <code>wgpu::VertexFormat::Float32x3</code>. Similar things apply to <code>Float2</code> and <code>Float4</code></li><li><code>CullMode</code> is no longer a thing, instead <code>PrimitiveState::cull_mode</code> will require an <code>Option&lt;Face&gt;</code></li><li>Added <code>clamp_depth</code> and <code>conservative</code> to <code>PrimitiveState</code>. Part of this means that <code>DepthStencilState</code> no longer has a <code>clamp_depth</code> field.</li><li><code>color_blend</code> and <code>alpha_blend</code> have been moved into the new <code>blend</code> field with accepts an <code>Option&lt;wgpu::BlendState&gt;</code></li><li><code>adapter.get_preferred_format()</code> now returns an <code>Option&lt;wgpu::TextureFormat&gt;</code></li><li><code>wgpu::RenderPassColorAttachmentDescriptor</code> has been renamed <code>wgpu::RenderPassColorAttachement</code> and the <code>attachment</code> field has been renamed to <code>view</code></li><li><code>wgpu::RenderPassDepthStencialAttachmentDescriptor</code> also loses the <code>Descriptor</code> part of it&#39;s name. <code>attachment</code> gets renamed to <code>view</code> as well.</li><li><code>wgpu::TextureCopyView</code> has been renamed to <code>wgpu::ImageCopyTexture</code>. This is a typedef for <code>wgpu::ImageCopyTextureBase&lt;T&gt;</code></li><li><code>wgpu::TextureDataLayout</code> is now <code>wgpu::ImageDataLayout</code> and it&#39;s <code>bytes_per_row</code> and <code>rows_per_image</code> now take <code>NonZeroU32</code>.</li><li><code>wgpu::ImageCopyBuffer</code> is now <code>wgpu::ImageCopyBuffer</code>.</li></ul><h2 id="_0-7" tabindex="-1"><a class="header-anchor" href="#_0-7" aria-hidden="true">#</a> 0.7</h2><p>There were a lot of changes, particularly to the <code>RenderPipelineDescriptor</code>. Most other things have not changed. You can check out the <a href="https://github.com/sotrh/learn-wgpu/pull/140" target="_blank" rel="noopener noreferrer">0.9 PR<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for the full details.</p><h2 id="november-2020-cleanup-content-freeze-and-patreon" tabindex="-1"><a class="header-anchor" href="#november-2020-cleanup-content-freeze-and-patreon" aria-hidden="true">#</a> November 2020 Cleanup, Content Freeze, and Patreon</h2><p>School is starting to ramp up, so I haven&#39;t had as much time to work on the site as I would like to. Because of that, there were some issues piling up. I decided to tackle a bunch of them in one go. Here&#39;s a snapshot of what I did:</p><ul><li>The tutorial now handles <code>SurfaceError</code> properly</li><li>I&#39;m now using bytemuck&#39;s derive feature on all buffer data structs.</li><li>The <a href="../beginner/tutorial7-instancing">instancing tutorial</a> now uses vertex buffers instead of storage buffers.</li><li><code>build.rs</code> now updates when individual shaders are changed, not whenever <code>/src</code> is changed.</li><li>Had some help from Github user @kanerogers to clean up the <a href="../beginner/tutorial5-textures">texturing tutorial</a>.</li><li>I made a <a href="../showcase/compute">compute pipeline showcase</a> that computes the tangent and bitangent for each vertex in a model.</li><li>I made a <a href="../showcase/imgui-demo">imgui showcase</a>. It&#39;s very basic, but it should be a good starting point.</li></ul><p>Now in the headline, I mentioned a &quot;Content Freeze&quot;. Wgpu is still a moving target. The migration from <code>0.4</code> to <code>0.5</code> was a lot of work. The same goes for <code>0.5</code> to <code>0.6</code>. I expect the next migration to be just as much work. As such, I won&#39;t be adding much content until the API becomes a bit more stable. That being said, I still plan on resolving any issues with the content.</p><p>One more thing. This is actually quite awkward for me (especially since I&#39;ll be slowing down development), but I&#39;ve started a <a href="https://www.patreon.com/sotrh" target="_blank" rel="noopener noreferrer">patreon<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. My job doesn&#39;t give me a ton of hours, so things are a bit tight. You are by no means obligated to donate, but I would appreciate it.</p><p>You can find out more about contributing to this project on the <a href="/learn-wgpu-zh/news/#contribution-and-support" class="">introduction page</a></p><h2 id="_0-6" tabindex="-1"><a class="header-anchor" href="#_0-6" aria-hidden="true">#</a> 0.6</h2><p>This took me way too long. The changes weren&#39;t difficult, but I had to do a lot of copy pasting. The main changes are using <code>queue.write_buffer()</code> and <code>queue.write_texture()</code> everywhere. I won&#39;t get into the nitty gritty, but you can check out the <a href="https://github.com/sotrh/learn-wgpu/pull/90" target="_blank" rel="noopener noreferrer">pull request<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> if you&#39;re interested.</p><h2 id="added-pong-showcase" tabindex="-1"><a class="header-anchor" href="#added-pong-showcase" aria-hidden="true">#</a> Added Pong Showcase</h2><p><a href="/learn-wgpu-zh/news/showcase/pong/" class="">See it here</a></p><h2 id="normal-mapping" tabindex="-1"><a class="header-anchor" href="#normal-mapping" aria-hidden="true">#</a> Normal mapping</h2><p>My perfectionism got in my way a bit with this one. I wasn&#39;t sure that what I was getting was &quot;physically accurate&quot;, but it seems to look good.</p><p><img src="/learn-wgpu-zh/assets/img/normal_mapping_correct.4cf9ca06.png" alt=""></p><h2 id="_0-5" tabindex="-1"><a class="header-anchor" href="#_0-5" aria-hidden="true">#</a> 0.5!</h2><p>Too many things changed to make note of them here. Check out <a href="https://github.com/sotrh/learn-wgpu/pull/29" target="_blank" rel="noopener noreferrer">the 0.5 pull request<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> if you&#39;re curious about specifics. That being said, 2 things are worth mentioning directly: the y-axis now points up like with DirectX and Metal, and requesting an adapter and creating a device now use <code>Future</code>s. The tutorials have been updated as well as the code.</p><h2 id="reworked-lighting-tutorial" tabindex="-1"><a class="header-anchor" href="#reworked-lighting-tutorial" aria-hidden="true">#</a> Reworked lighting tutorial</h2><p>The <a href="/intermediate/tutorial10-lighting/" target="_blank" rel="noopener noreferrer">lighting tutorial<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> was not up to par, so I redid it.</p><h2 id="added-gif-showcase" tabindex="-1"><a class="header-anchor" href="#added-gif-showcase" aria-hidden="true">#</a> Added GIF showcase</h2><p><a href="/showcase/gifs/" target="_blank" rel="noopener noreferrer">Creating GIFs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="updated-texture-tutorials" tabindex="-1"><a class="header-anchor" href="#updated-texture-tutorials" aria-hidden="true">#</a> Updated texture tutorials</h2><p>Up to this point, we created textures manually every time. I&#39;ve pulled out the texture creation code into a new <code>texture.rs</code> file and included it in every tutorial from the <a href="/beginner/tutorial5-textures/#cleaning-things-up" target="_blank" rel="noopener noreferrer">textures tutorial<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> onward.</p><h2 id="fixed-panics-due-to-not-specifying-the-correct-usage" tabindex="-1"><a class="header-anchor" href="#fixed-panics-due-to-not-specifying-the-correct-usage" aria-hidden="true">#</a> Fixed panics due to not specifying the correct <code>usage</code></h2><p>Wgpu has become more strict about what <code>BufferUsages</code>s and <code>TextureUsages</code>s are required when performing certain operations. For example in the <a href="/intermediate/windowless/" target="_blank" rel="noopener noreferrer">Wgpu without a window example<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, the <code>texture_desc</code> only specified the usage to by <code>COPY_SRC</code>. This caused a crash when the <code>texture</code> was used as a render target. Adding <code>OUTPUT_ATTACHMENT</code> fixed the issue.</p><h2 id="updating-winit-from-0-20-0-alpha5-to-0-20" tabindex="-1"><a class="header-anchor" href="#updating-winit-from-0-20-0-alpha5-to-0-20" aria-hidden="true">#</a> Updating Winit from 0.20.0-alpha5 to 0.20</h2><p>There were a lot of small changes to how the dpi stuff works. You can see all the changes <a href="https://github.com/rust-windowing/winit/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">in the changelog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. That means that some of the tutorials had to change.</p><ul><li>I&#39;ve removed <code>hidpi_factor</code> from <code>State</code> entirely. They removed the <code>hidpi_factor()</code> method from <code>winit::window::Window</code>, and changed <code>inner_size()</code> to return <code>PhysicalSize</code> instead of <code>LogicalSize</code>, so we don&#39;t need to store the <code>hidpi_factor</code> anymore.</li><li><code>update_hidpi_and_resize</code> is no more. Since <code>ScaleFactorChanged</code> passes in the windows new <code>PhysicalSize</code>, we can simply use <code>resize()</code>.</li><li><code>State::size</code> is now <code>PhysicalSize&lt;u32&gt;</code> instead of the pre 0.20 <code>LogicalSize</code>.</li><li><code>EventsCleared</code> is now <code>MainEventsCleared</code>.</li></ul><p>I may have missed a change, but I made sure that all the examples compile and run, so if you have trouble with your code you can use them as a reference.</p><h2 id="changed-tutorial-examples-to-use-a-src-directory" tabindex="-1"><a class="header-anchor" href="#changed-tutorial-examples-to-use-a-src-directory" aria-hidden="true">#</a> Changed tutorial examples to use a src directory</h2><p>I wasn&#39;t using the traditional cargo binary folder setup. I&#39;ve changed it to the standardized form now.</p><h2 id="updating-to-0-4-from-0-3" tabindex="-1"><a class="header-anchor" href="#updating-to-0-4-from-0-3" aria-hidden="true">#</a> Updating to 0.4 from 0.3</h2><p>There are a few things that have changed:</p><ol><li>The use of <code>Instance</code> has been removed. Creating a <code>Surface</code> and requesting an <code>Adapter</code> are done as follows.</li></ol><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> surface <span class="token operator">=</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Surface</span><span class="token punctuation">::</span><span class="token function">create</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> adapter <span class="token operator">=</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Adapter</span><span class="token punctuation">::</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RequestAdapterOptions</span> <span class="token punctuation">{</span>
    <span class="token punctuation">..</span><span class="token class-name">Default</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// needs to be unwrapped</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>The <code>request_device</code> method now returns a <code>(Device, Queue)</code> tuple. This means that you can borrow the <code>Queue</code> mutably while using the <code>Device</code> immutably. Because of this change, submitting <code>CommandBuffer</code>s to the queue uses the <code>submit</code> method on the <code>Queue</code> directly.</li></ol><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">self</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">[</span>
    encoder<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>The <code>create</code> method on <code>Surface</code> takes in any struct that implements the <code>HasRawWindow</code> trait, instead of a <code>RawWindowHandle</code>. This means that the <code>raw-window-handle = &quot;0.3&quot;</code> line in <code>Cargo.toml</code> is no longer needed.</li></ol><p>I don&#39;t know if this is a change from 0.4, but you use <code>wgpu = &quot;0.4&quot;</code> line in dependencies instead of the <code>[dependencies.wgpu]</code> as wgpu will determine the best back end for you.</p><h2 id="new-recent-articles" tabindex="-1"><a class="header-anchor" href="#new-recent-articles" aria-hidden="true">#</a> New/Recent Articles</h2><!----></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/learn-wgpu-zh/assets/js/runtime~app.241bf641.js" defer></script><script src="/learn-wgpu-zh/assets/js/9141.74699445.js" defer></script><script src="/learn-wgpu-zh/assets/js/app.9d04aef4.js" defer></script>
  </body>
</html>
