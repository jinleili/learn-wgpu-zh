import{d,u as m,l as x,c as s,z as g,b as w,o as r,_,a2 as h,t as u,C as c,K as l,a3 as v,p as y,k as A,a4 as E,a5 as b,a6 as C,a7 as $,a8 as P,a9 as k,aa as S,ab as L,ac as T,ad as R,ae as G,af as W,ag as D}from"./chunks/framework.a92ab56c.js";import{t as j}from"./chunks/theme.2a25fc59.js";const O={class:"auto-github-link"},V=["href"],B=d({__name:"AutoGithubLink",setup(e){const{page:t}=m(),a="https://github.com/jinleili/learn-wgpu-zh/tree/master/code/",n=x(()=>a+t.value.relativePath.replace("index.md","").replace(".md",""));return(o,p)=>(r(),s("div",O,[g("a",{href:w(n),target:"_blank",rel:"noopener noreferrer"}," 查看源码！ ",8,V)]))}});const N="/learn-wgpu-zh/res/wx.jpg",I={name:"JoinWeiChatGroup"},z={src:N,style:{width:"312px","margin-top":"24px"}};function F(e,t,a,n,o,p){return r(),s("img",z)}const J=_(I,[["render",F]]);function U(e){return e.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}const H={name:"WasmExample",props:{example:"",autoLoad:!1},data(){return{error:"",loading:!1,exampleStarted:!1}},computed:{exampleName(){return U(this.example)}},methods:{async loadExample(){this.loading=!0,this.exampleStarted=!0;try{(await h(()=>import(`./wasm/${this.example}.js`.replace("_","-")),[])).default().then(t=>{this.loading=!1,this.exampleStarted=!0},t=>{`${t}`.includes("don't mind me. This isn't actually an error!")?(this.exampleStarted=!0,this.loading=!1):showErr(t)})}catch(e){showErr(e)}},showErr(e){this.error=`An error occurred loading "${this.example}": ${e}`,console.error(e),this.exampleStarted=!1,this.loading=!1}},async mounted(){await this.$nextTick(),this.autoLoad&&await this.loadExample()}},M={id:"wasm-example"},K={key:0,class:"error"},q={key:1,class:"loading"},Q=["disabled"];function X(e,t,a,n,o,p){return r(),s("div",M,[o.error?(r(),s("div",K,u(o.error),1)):c("",!0),o.loading?(r(),s("div",q," 正在加载 WASM 模块 ... ")):c("",!0),o.exampleStarted?c("",!0):(r(),s("button",{key:2,onClick:t[0]||(t[0]=oe=>p.loadExample()),disabled:o.loading},"点击运行 "+u(p.exampleName),9,Q))])}const Y=_(H,[["render",X]]),Z={...j,enhanceApp({app:e}){e.component("AutoGithubLink",B),e.component("JoinWeiChatGroup",J),e.component("WasmExample",Y)}};function f(e){if(e.extends){const t=f(e.extends);return{...t,...e,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),e.enhanceApp&&await e.enhanceApp(a)}}}return e}const i=f(Z),ee=d({name:"VitePressApp",setup(){const{site:e}=m();return y(()=>{A(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),E(),b(),C(),i.setup&&i.setup(),()=>$(i.Layout)}});async function te(){const e=ne(),t=ae();t.provide(P,e);const a=k(e.route);return t.provide(S,a),t.component("Content",L),t.component("ClientOnly",T),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),i.enhanceApp&&await i.enhanceApp({app:t,router:e,siteData:R}),{app:t,router:e,data:a}}function ae(){return G(ee)}function ne(){let e=l,t;return W(a=>{let n=D(a);return e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),l&&(e=!1),h(()=>import(n),[])},i.NotFound)}l&&te().then(({app:e,router:t,data:a})=>{t.go().then(()=>{v(t.route,a.site),e.mount("#app")})});export{te as createApp};
