import{d,u as m,e as x,c as s,x as g,b as A,o as r,_,Z as h,t as u,A as c,I as l,$ as v,h as w,l as y,a0 as E,a1 as b,a2 as $,a3 as C,a4 as P,a5 as S,a6 as k,a7 as L,a8 as T,a9 as R,aa as G,ab as W,ac as D}from"./chunks/framework.7ed9c654.js";import{t as j}from"./chunks/theme.5fcefe1f.js";const O={class:"auto-github-link"},V=["href"],B=d({__name:"AutoGithubLink",setup(e){const{page:t}=m(),a="https://github.com/jinleili/learn-wgpu-zh/tree/master/code/",n=x(()=>a+t.value.relativePath.replace("index.md","").replace(".md",""));return(o,p)=>(r(),s("div",O,[g("a",{href:A(n),target:"_blank",rel:"noopener noreferrer"}," 查看源码！ ",8,V)]))}});const I="/learn-wgpu-zh/res/wx.jpg",N={name:"JoinWeiChatGroup"},F={src:I,style:{width:"312px","margin-top":"24px"}};function J(e,t,a,n,o,p){return r(),s("img",F)}const U=_(N,[["render",J]]);function z(e){return e.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}const H={name:"WasmExample",props:{example:"",autoLoad:!1},data(){return{error:"",loading:!1,exampleStarted:!1}},computed:{exampleName(){return z(this.example)}},methods:{async loadExample(){this.loading=!0,this.exampleStarted=!0;try{(await h(()=>import(`./wasm/${this.example}.js`.replace("_","-")),[])).default().then(t=>{this.loading=!1,this.exampleStarted=!0},t=>{`${t}`.includes("don't mind me. This isn't actually an error!")?(this.exampleStarted=!0,this.loading=!1):showErr(t)})}catch(e){showErr(e)}},showErr(e){this.error=`An error occurred loading "${this.example}": ${e}`,console.error(e),this.exampleStarted=!1,this.loading=!1}},async mounted(){await this.$nextTick(),this.autoLoad&&await this.loadExample()}},M={id:"wasm-example"},Z={key:0,class:"error"},q={key:1,class:"loading"},K=["disabled"];function Q(e,t,a,n,o,p){return r(),s("div",M,[o.error?(r(),s("div",Z,u(o.error),1)):c("",!0),o.loading?(r(),s("div",q," 正在加载 WASM 模块 ... ")):c("",!0),o.exampleStarted?c("",!0):(r(),s("button",{key:2,onClick:t[0]||(t[0]=oe=>p.loadExample()),disabled:o.loading},"点击运行 "+u(p.exampleName),9,K))])}const X=_(H,[["render",Q]]),Y={...j,enhanceApp({app:e}){e.component("AutoGithubLink",B),e.component("JoinWeiChatGroup",U),e.component("WasmExample",X)}};function f(e){if(e.extends){const t=f(e.extends);return{...t,...e,enhanceApp(a){t.enhanceApp&&t.enhanceApp(a),e.enhanceApp&&e.enhanceApp(a)}}}return e}const i=f(Y),ee=d({name:"VitePressApp",setup(){const{site:e}=m();return w(()=>{y(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),E(),b(),$(),i.setup&&i.setup(),()=>C(i.Layout)}});async function te(){const e=ne(),t=ae();t.provide(P,e);const a=S(e.route);return t.provide(k,a),t.component("Content",L),t.component("ClientOnly",T),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),i.enhanceApp&&await i.enhanceApp({app:t,router:e,siteData:R}),{app:t,router:e,data:a}}function ae(){return G(ee)}function ne(){let e=l,t;return W(a=>{let n=D(a);return e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),l&&(e=!1),h(()=>import(n),[])},i.NotFound)}l&&te().then(({app:e,router:t,data:a})=>{t.go().then(()=>{v(t.route,a.site),e.mount("#app")})});export{te as createApp};
