<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>å±•ç¤ºå¹³é¢ (Surface) | å­¦ä¹  wgpu</title><meta name="description" content="ä½¿ç”¨ Rust å­¦ä¹  wgpu">
    <link rel="preload" href="/learn-wgpu-zh/assets/js/runtime~app.322c5520.js" as="script"><link rel="preload" href="/learn-wgpu-zh/assets/css/styles.13e99207.css" as="style"><link rel="preload" href="/learn-wgpu-zh/assets/js/2611.76c5df5b.js" as="script"><link rel="preload" href="/learn-wgpu-zh/assets/js/app.1775ef5e.js" as="script"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-2d69bb60.3fb28b87.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-bfc81dd6.b0669171.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-4249d10f.7ab7af3e.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-82a25e06.5492da64.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-2168b6f4.2862248a.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-1d87647f.7832573c.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-5ffceace.284a4bf8.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b2c95ce4.97aadded.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-5d0cc617.478da0ba.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-e038f3ae.75c37583.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-627538dd.381b03a1.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-220b0cd1.bb7f0642.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-64802336.07cb9918.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-31840cac.172c9dcb.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b117cf7e.7000f4a2.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/1162.73db0f06.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/3475.6422c638.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/5883.711edcf1.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/7937.6dd44665.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-5c7d04cb.64d0b3c1.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/2307.5ea4c2d9.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/662.cc3b899d.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/1426.b529462f.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/381.efc9c7f6.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/2277.af6d970b.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/4970.7fbd9d88.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b3ccb192.64b298a6.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/5137.7bc11b24.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-0440027a.7c1f4794.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-2b11540d.67994438.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-1f0489a3.248fbdc9.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-7db95cc0.3958b6e1.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-25d83dbe.4845e8e8.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/6321.b5278cdb.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/5421.58f5d993.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/4839.f34a457e.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/416.097cbe0d.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/2922.e6dabe11.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/4607.39e55359.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/1769.79e89645.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/7854.355fb807.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/7255.d3f412ea.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/5734.e922f752.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/6402.ac52c68d.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/9292.16c9429c.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-0c308a02.27f51e2a.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-4a3d9733.145840d3.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b2a9f5e8.2dce5983.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/4204.628e56a7.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-6b60e296.eb3cb445.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-b2a9f626.adb73a81.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-8daa1a0e.4a188833.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-8b4c6ddc.3eaceff0.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-745c8789.77fb89b6.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/5969.766daba3.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-afc761bc.8e7b26fc.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/3402.c505282f.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/v-3706649a.71b76089.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/js/75.8e0a872d.js"><link rel="prefetch" href="/learn-wgpu-zh/assets/css/497.styles.6ea494fb.css"><link rel="prefetch" href="/learn-wgpu-zh/assets/css/9601.styles.1e010e91.css">
    <link rel="stylesheet" href="/learn-wgpu-zh/assets/css/styles.13e99207.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/learn-wgpu-zh/" class=""><img class="logo" src="/learn-wgpu-zh/res/wgpu-logo.png" alt="å­¦ä¹  wgpu"><span class="site-name can-hide">å­¦ä¹  wgpu</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/" class="router-link-active router-link-exact-active router-link-active" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--]--> ç®€ä½“ä¸­æ–‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://sotrh.github.io/learn-wgpu/" rel="noopener noreferrer" target="_blank" aria-label="English"><!--[--><!--]--> English <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/jinleili/learn-wgpu-zh" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/" class="router-link-active router-link-exact-active router-link-active" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--]--> ç®€ä½“ä¸­æ–‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://sotrh.github.io/learn-wgpu/" rel="noopener noreferrer" target="_blank" aria-label="English"><!--[--><!--]--> English <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/jinleili/learn-wgpu-zh" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/learn-wgpu-zh/" class="sidebar-item sidebar-heading" aria-label="ä»‹ç»"><!--[--><!--]--> ä»‹ç» <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">åŸºç¡€ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/learn-wgpu-zh/beginner/tutorial1-window/" class="sidebar-item" aria-label="ä¾èµ–ä¸çª—å£"><!--[--><!--]--> ä¾èµ–ä¸çª—å£ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="å±•ç¤ºå¹³é¢ (Surface)"><!--[--><!--]--> å±•ç¤ºå¹³é¢ (Surface) <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#å°è£…-state" class="router-link-active router-link-exact-active sidebar-item" aria-label="å°è£… State"><!--[--><!--]--> å°è£… State <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#å®ä¾‹åŒ–-state" class="router-link-active router-link-exact-active sidebar-item" aria-label="å®ä¾‹åŒ– State"><!--[--><!--]--> å®ä¾‹åŒ– State <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#gpu-å®ä¾‹ä¸é€‚é…å™¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="GPU å®ä¾‹ä¸é€‚é…å™¨"><!--[--><!--]--> GPU å®ä¾‹ä¸é€‚é…å™¨ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#å±•ç¤ºå¹³é¢" class="router-link-active router-link-exact-active sidebar-item" aria-label="å±•ç¤ºå¹³é¢"><!--[--><!--]--> å±•ç¤ºå¹³é¢ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#é€»è¾‘è®¾å¤‡ä¸å‘½ä»¤é˜Ÿåˆ—" class="router-link-active router-link-exact-active sidebar-item" aria-label="é€»è¾‘è®¾å¤‡ä¸å‘½ä»¤é˜Ÿåˆ—"><!--[--><!--]--> é€»è¾‘è®¾å¤‡ä¸å‘½ä»¤é˜Ÿåˆ— <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#è°ƒæ•´å±•ç¤ºå¹³é¢çš„å®½é«˜" class="router-link-active router-link-exact-active sidebar-item" aria-label="è°ƒæ•´å±•ç¤ºå¹³é¢çš„å®½é«˜"><!--[--><!--]--> è°ƒæ•´å±•ç¤ºå¹³é¢çš„å®½é«˜ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#äº‹ä»¶è¾“å…¥" class="router-link-active router-link-exact-active sidebar-item" aria-label="äº‹ä»¶è¾“å…¥"><!--[--><!--]--> äº‹ä»¶è¾“å…¥ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#æ›´æ–°" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ›´æ–°"><!--[--><!--]--> æ›´æ–° <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#æ¸²æŸ“" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ¸²æŸ“"><!--[--><!--]--> æ¸²æŸ“ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#å…³äºæ¸²æŸ“é€šé“æè¿°ç¬¦" class="router-link-active router-link-exact-active sidebar-item" aria-label="å…³äºæ¸²æŸ“é€šé“æè¿°ç¬¦"><!--[--><!--]--> å…³äºæ¸²æŸ“é€šé“æè¿°ç¬¦ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#éªŒè¯é”™è¯¯" class="router-link-active router-link-exact-active sidebar-item" aria-label="éªŒè¯é”™è¯¯?"><!--[--><!--]--> éªŒè¯é”™è¯¯? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learn-wgpu-zh/beginner/tutorial2-surface/#æŒ‘æˆ˜" class="router-link-active router-link-exact-active sidebar-item" aria-label="æŒ‘æˆ˜"><!--[--><!--]--> æŒ‘æˆ˜ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/learn-wgpu-zh/beginner/tutorial3-pipeline/" class="sidebar-item" aria-label="ç®¡çº¿ (Pipeline)"><!--[--><!--]--> ç®¡çº¿ (Pipeline) <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial4-buffer/" class="sidebar-item" aria-label="ç¼“å†²åŒºä¸ç´¢å¼•"><!--[--><!--]--> ç¼“å†²åŒºä¸ç´¢å¼• <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial5-textures/" class="sidebar-item" aria-label="çº¹ç†å’Œç»‘å®šç»„"><!--[--><!--]--> çº¹ç†å’Œç»‘å®šç»„ <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial6-uniforms/" class="sidebar-item" aria-label="Uniform ç¼“å†²åŒºä¸ 3D è™šæ‹Ÿæ‘„åƒæœº"><!--[--><!--]--> Uniform ç¼“å†²åŒºä¸ 3D è™šæ‹Ÿæ‘„åƒæœº <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial7-instancing/" class="sidebar-item" aria-label="å®ä¾‹åŒ–ç»˜åˆ¶"><!--[--><!--]--> å®ä¾‹åŒ–ç»˜åˆ¶ <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial8-depth/" class="sidebar-item" aria-label="æ·±åº¦ç¼“å†²åŒº"><!--[--><!--]--> æ·±åº¦ç¼“å†²åŒº <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/beginner/tutorial9-models/" class="sidebar-item" aria-label="æ¨¡å‹åŠ è½½"><!--[--><!--]--> æ¨¡å‹åŠ è½½ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">è¿›é˜¶ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/learn-wgpu-zh/intermediate/tutorial10-lighting/" class="sidebar-item" aria-label="å…‰ç…§"><!--[--><!--]--> å…‰ç…§ <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/intermediate/tutorial11-normals/" class="sidebar-item" aria-label="æ³•çº¿æ˜ å°„"><!--[--><!--]--> æ³•çº¿æ˜ å°„ <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/intermediate/tutorial12-camera/" class="sidebar-item" aria-label="æ›´å¥½çš„æ‘„åƒæœº"><!--[--><!--]--> æ›´å¥½çš„æ‘„åƒæœº <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">é›†æˆä¸è°ƒè¯• <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/learn-wgpu-zh/integration-and-debugging/" class="sidebar-item" aria-label="æ¥”å­"><!--[--><!--]--> æ¥”å­ <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/integration-and-debugging/ios/" class="sidebar-item" aria-label="ğŸ†• ä¸ iOS App é›†æˆ"><!--[--><!--]--> ğŸ†• ä¸ iOS App é›†æˆ <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/integration-and-debugging/android/" class="sidebar-item" aria-label="ğŸ†• ä¸ Android App é›†æˆ"><!--[--><!--]--> ğŸ†• ä¸ Android App é›†æˆ <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/integration-and-debugging/xcode/" class="sidebar-item" aria-label="ğŸ†• ä½¿ç”¨ Xcode è°ƒè¯• wgpu ç¨‹åº"><!--[--><!--]--> ğŸ†• ä½¿ç”¨ Xcode è°ƒè¯• wgpu ç¨‹åº <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/integration-and-debugging/snapdragon-profiler/" class="sidebar-item" aria-label="ğŸ†• ä½¿ç”¨ Snapdragon Profiler è°ƒè¯•"><!--[--><!--]--> ğŸ†• ä½¿ç”¨ Snapdragon Profiler è°ƒè¯• <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">æ¡ˆä¾‹å±•ç¤º <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/learn-wgpu-zh/showcase/windowless/" class="sidebar-item" aria-label="ç¦»å±æ¸²æŸ“"><!--[--><!--]--> ç¦»å±æ¸²æŸ“ <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/gifs/" class="sidebar-item" aria-label="ç”Ÿæˆ GIF åŠ¨å›¾"><!--[--><!--]--> ç”Ÿæˆ GIF åŠ¨å›¾ <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/pong/" class="sidebar-item" aria-label="Pong"><!--[--><!--]--> Pong <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/compute/" class="sidebar-item" aria-label="Compute Example: Tangents and Bitangents"><!--[--><!--]--> Compute Example: Tangents and Bitangents <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/alignment/" class="sidebar-item" aria-label="Memory Layout in WGSL"><!--[--><!--]--> Memory Layout in WGSL <!--[--><!--]--></a><!----></li><li><a href="/learn-wgpu-zh/showcase/imgui-demo/" class="sidebar-item" aria-label="Basic Imgui Demo"><!--[--><!--]--> Basic Imgui Demo <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/learn-wgpu-zh/GLOSSARY_OF_TERMS.html" class="sidebar-item sidebar-heading" aria-label="æœ¯è¯­ä¸­è‹±å¯¹ç…§è¡¨"><!--[--><!--]--> æœ¯è¯­ä¸­è‹±å¯¹ç…§è¡¨ <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="å±•ç¤ºå¹³é¢-surface" tabindex="-1"><a class="header-anchor" href="#å±•ç¤ºå¹³é¢-surface" aria-hidden="true">#</a> å±•ç¤ºå¹³é¢ (Surface)</h1><h2 id="å°è£…-state" tabindex="-1"><a class="header-anchor" href="#å°è£…-state" aria-hidden="true">#</a> å°è£… State</h2><p>ä¸ºæ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰<strong>å­—æ®µ</strong>å°è£…åœ¨ä¸€ä¸ª<strong>ç»“æ„ä½“</strong>å†…ï¼Œå¹¶åœ¨å…¶ä¸Šæ·»åŠ ä¸€äº›å‡½æ•°ï¼š</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token comment">// lib.rs</span>
<span class="token keyword">use</span> <span class="token namespace">winit<span class="token punctuation">::</span>window<span class="token punctuation">::</span></span><span class="token class-name">Window</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token type-definition class-name">State</span> <span class="token punctuation">{</span>
    surface<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Surface</span><span class="token punctuation">,</span>
    device<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Device</span><span class="token punctuation">,</span>
    queue<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Queue</span><span class="token punctuation">,</span>
    config<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">SurfaceConfiguration</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token namespace">winit<span class="token punctuation">::</span>dpi<span class="token punctuation">::</span></span><span class="token class-name">PhysicalSize</span><span class="token operator">&lt;</span><span class="token keyword">u32</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ›å»ºæŸäº› wgpu ç±»å‹éœ€è¦ä½¿ç”¨å¼‚æ­¥ä»£ç </span>
    <span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">new</span><span class="token punctuation">(</span>window<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">Window</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">Self</span> <span class="token punctuation">{</span>
        <span class="token macro property">todo!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> <span class="token function-definition function">resize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> new_size<span class="token punctuation">:</span> <span class="token namespace">winit<span class="token punctuation">::</span>dpi<span class="token punctuation">::</span></span><span class="token class-name">PhysicalSize</span><span class="token operator">&lt;</span><span class="token keyword">u32</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token macro property">todo!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> <span class="token function-definition function">input</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> event<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">WindowEvent</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
        <span class="token macro property">todo!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> <span class="token function-definition function">update</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token macro property">todo!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fn</span> <span class="token function-definition function">render</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">SurfaceError</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token macro property">todo!</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤„çœç•¥äº† <code>State</code> çš„å­—æ®µæ¦‚è¿°ï¼Œåœ¨åç»­ç« èŠ‚ä¸­è§£é‡Šè¿™äº›å‡½æ•°èƒŒåçš„ä»£ç æ—¶ï¼Œå®ƒä»¬æ‰ä¼šå˜å¾—æ›´æœ‰æ„ä¹‰ã€‚</p><h2 id="å®ä¾‹åŒ–-state" tabindex="-1"><a class="header-anchor" href="#å®ä¾‹åŒ–-state" aria-hidden="true">#</a> å®ä¾‹åŒ– State</h2><p>è¿™æ®µä»£ç å¾ˆç®€å•ï¼Œä½†è¿˜æ˜¯å€¼å¾—å¥½å¥½è®²è®²ï¼š</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">impl</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">new</span><span class="token punctuation">(</span>window<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">Window</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">Self</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> size <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">inner_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// instance å˜é‡æ˜¯ GPU å®ä¾‹</span>
        <span class="token comment">// Backends::all å¯¹åº” Vulkanã€Metalã€DX12ã€WebGL ç­‰æ‰€æœ‰åç«¯å›¾å½¢é©±åŠ¨</span>
        <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Instance</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Backends</span><span class="token punctuation">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> surface <span class="token operator">=</span> <span class="token keyword">unsafe</span> <span class="token punctuation">{</span> instance<span class="token punctuation">.</span><span class="token function">create_surface</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> adapter <span class="token operator">=</span> instance<span class="token punctuation">.</span><span class="token function">request_adapter</span><span class="token punctuation">(</span>
            <span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RequestAdapterOptions</span> <span class="token punctuation">{</span>
                power_preference<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PowerPreference</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                compatible_surface<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>surface<span class="token punctuation">)</span><span class="token punctuation">,</span>
                force_fallback_adapter<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gpu-å®ä¾‹ä¸é€‚é…å™¨" tabindex="-1"><a class="header-anchor" href="#gpu-å®ä¾‹ä¸é€‚é…å™¨" aria-hidden="true">#</a> GPU å®ä¾‹ä¸é€‚é…å™¨</h3><p><strong>GPU å®ä¾‹</strong>ï¼ˆInstanceï¼‰æ˜¯ä½¿ç”¨ wgpu æ—¶æ‰€éœ€åˆ›å»ºçš„ç¬¬ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸»è¦ç”¨é€”æ˜¯åˆ›å»º<strong>é€‚é…å™¨</strong>ï¼ˆAdapterï¼‰å’Œ<strong>å±•ç¤ºå¹³é¢</strong>ï¼ˆSurfaceï¼‰ã€‚</p><p><strong>é€‚é…å™¨</strong>ï¼ˆAdapterï¼‰æ˜¯æŒ‡å‘ WebGPU API å®ç°çš„å®ä¾‹ï¼Œä¸€ä¸ªç³»ç»Ÿä¸Šå¾€å¾€å­˜åœ¨å¤šä¸ª WebGPU API å®ç°å®ä¾‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>é€‚é…å™¨</strong>æ˜¯å›ºå®šåœ¨ç‰¹å®šå›¾å½¢åç«¯çš„ã€‚å‡å¦‚ä½ ä½¿ç”¨çš„æ˜¯ Windows ä¸”æœ‰ 2 ä¸ªæ˜¾å¡ï¼ˆé›†æˆæ˜¾å¡ + ç‹¬ç«‹æ˜¾å¡ï¼‰ï¼Œåˆ™è‡³å°‘æœ‰ 4 ä¸ª<strong>é€‚é…å™¨</strong>å¯ä¾›ä½¿ç”¨ï¼Œåˆ†åˆ«æœ‰ 2 ä¸ªå›ºå®šåœ¨ Vulkan å’Œ DirectX åç«¯ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å®ƒè·å–å…³è”æ˜¾å¡çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ˜¾å¡åç§°ä¸å…¶æ‰€é€‚é…åˆ°çš„åç«¯å›¾å½¢é©±åŠ¨ç­‰ã€‚ç¨åæˆ‘ä»¬ä¼šç”¨å®ƒæ¥åˆ›å»º<strong>é€»è¾‘è®¾å¤‡</strong>å’Œ<strong>å‘½ä»¤é˜Ÿåˆ—</strong>ã€‚ç°åœ¨å…ˆè®¨è®ºä¸€ä¸‹ <code>RequestAdapterOptions</code> æ‰€æ¶‰åŠçš„å­—æ®µã€‚</p><ul><li><code>power_preference</code> æšä¸¾æœ‰ä¸¤ä¸ªå¯é€‰é¡¹ï¼š<code>LowPower</code> å’Œ <code>HighPerformance</code>ã€‚ <code>LowPower</code> å¯¹åº”åå‘äºé«˜ç”µæ± ç»­èˆªçš„é€‚é…å™¨ï¼ˆå¦‚é›†æˆæ˜¾å¡ä¸Šçš„ WebGPU å®ç°å®ä¾‹ï¼‰ï¼Œ<code>HighPerformance</code> å¯¹åº”é«˜åŠŸè€—é«˜æ€§èƒ½çš„é€‚é…å™¨ï¼ˆå¦‚ç‹¬ç«‹æ˜¾å¡ä¸Šçš„WebGPU å®ç°å®ä¾‹ï¼‰ã€‚ä¸€æ—¦ä¸å­˜åœ¨ç¬¦åˆ <code>HighPerformance</code> é€‰é¡¹çš„é€‚é…å™¨ï¼Œwgpu å°±ä¼šé€‰æ‹© <code>LowPower</code>ã€‚</li><li><code>compatible_surface</code> å­—æ®µå‘Šè¯‰ wgpu æ‰¾åˆ°ä¸æ‰€ä¼ å…¥çš„<strong>å±•ç¤ºå¹³é¢</strong>å…¼å®¹çš„é€‚é…å™¨ã€‚</li><li><code>force_fallback_adapter</code> å¼ºåˆ¶ wgpu é€‰æ‹©ä¸€ä¸ªèƒ½åœ¨æ‰€æœ‰ç³»ç»Ÿä¸Šå·¥ä½œçš„é€‚é…å™¨ï¼Œè¿™é€šå¸¸æ„å‘³ç€æ¸²æŸ“åç«¯å°†ä½¿ç”¨ä¸€ä¸ª<strong>è½¯æ¸²æŸ“</strong>ç³»ç»Ÿï¼Œè€Œé GPU è¿™æ ·çš„ç¡¬ä»¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šWebGPU æ ‡å‡†å¹¶æ²¡æœ‰è¦æ±‚æ‰€æœ‰ç³»ç»Ÿä¸Šéƒ½å¿…é¡»å®ç° <a href="https://gpuweb.github.io/gpuweb/#fallback-adapter" target="_blank" rel="noopener noreferrer">fallback adapter<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€‚</li></ul><div class="note"><p>æ­¤å¤„ä¼ é€’ç»™ <code>request_adapter</code> çš„å‚æ•°ä¸èƒ½ä¿è¯å¯¹æ‰€æœ‰è®¾å¤‡éƒ½æœ‰æ•ˆï¼Œä½†æ˜¯åº”è¯¥å¯¹å¤§å¤šæ•°è®¾å¤‡éƒ½æœ‰æ•ˆã€‚å½“ wgpu æ‰¾ä¸åˆ°ç¬¦åˆè¦æ±‚çš„é€‚é…å™¨ï¼Œ<code>request_adapter</code> å°†è¿”å› <code>None</code>ã€‚å¦‚æœä½ æƒ³è·å–æŸä¸ªç‰¹å®šå›¾å½¢åç«¯çš„æ‰€æœ‰<strong>é€‚é…å™¨</strong>ï¼Œå¯ä»¥ä½¿ç”¨ <code>enumerate_adapters</code> å‡½æ•°ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½ å¯ä»¥éå†æ£€æŸ¥å…¶ä¸­æ˜¯å¦æœ‰æ»¡è¶³éœ€æ±‚çš„é€‚é…å™¨ã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> adapter <span class="token operator">=</span> instance
    <span class="token punctuation">.</span><span class="token function">enumerate_adapters</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Backends</span><span class="token punctuation">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>adapter<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
        <span class="token comment">// æ£€æŸ¥è¯¥é€‚é…å™¨æ˜¯å¦å…¼å®¹æˆ‘ä»¬çš„å±•ç¤ºå¹³é¢</span>
        surface<span class="token punctuation">.</span><span class="token function">get_preferred_format</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>adapter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is_some</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ›´å¤šå¯ç”¨äºä¼˜åŒ–<strong>é€‚é…å™¨</strong>æœç´¢çš„å‡½æ•°ï¼Œè¯·<a href="https://docs.rs/wgpu/latest/wgpu/struct.Adapter.html" target="_blank" rel="noopener noreferrer">æŸ¥çœ‹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p></div><h3 id="å±•ç¤ºå¹³é¢" tabindex="-1"><a class="header-anchor" href="#å±•ç¤ºå¹³é¢" aria-hidden="true">#</a> å±•ç¤ºå¹³é¢</h3><p><strong>å±•ç¤ºå¹³é¢</strong>ï¼ˆSurfaceï¼‰æ˜¯æˆ‘ä»¬ç»˜åˆ¶åˆ°çª—å£çš„éƒ¨åˆ†ï¼Œéœ€è¦å®ƒæ¥å°†ç»˜åˆ¶ç»“æœå±•ç¤ºï¼ˆæˆ–è€…è¯´ï¼Œå‘ˆç°ï¼‰åˆ°å±å¹•ä¸Šã€‚çª—å£ç¨‹åºéœ€è¦å®ç° <a href="https://crates.io/crates/raw-window-handle" target="_blank" rel="noopener noreferrer">raw-window-handle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <strong>åŒ…</strong>çš„ <code>HasRawWindowHandle</code> trait æ¥åˆ›å»ºå±•ç¤ºå¹³é¢ã€‚æ‰€å¹¸ winit çš„ <code>Window</code> ç¬¦åˆè¿™ä¸ªè¦æ±‚ã€‚æˆ‘ä»¬è¿˜éœ€è¦å±•ç¤ºå¹³é¢æ¥è¯·æ±‚<strong>é€‚é…å™¨</strong>ã€‚</p><h3 id="é€»è¾‘è®¾å¤‡ä¸å‘½ä»¤é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#é€»è¾‘è®¾å¤‡ä¸å‘½ä»¤é˜Ÿåˆ—" aria-hidden="true">#</a> é€»è¾‘è®¾å¤‡ä¸å‘½ä»¤é˜Ÿåˆ—</h3><p>è®©æˆ‘ä»¬ä½¿ç”¨<strong>é€‚é…å™¨</strong>æ¥åˆ›å»º<strong>é€»è¾‘è®¾å¤‡</strong> (Device) å’Œ<strong>å‘½ä»¤é˜Ÿåˆ—</strong> (Queue)ã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code>    <span class="token keyword">let</span> <span class="token punctuation">(</span>device<span class="token punctuation">,</span> queue<span class="token punctuation">)</span> <span class="token operator">=</span> adapter<span class="token punctuation">.</span><span class="token function">request_device</span><span class="token punctuation">(</span>
        <span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">DeviceDescriptor</span> <span class="token punctuation">{</span>
            features<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Features</span><span class="token punctuation">::</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// WebGL åç«¯å¹¶ä¸æ”¯æŒ wgpu çš„æ‰€æœ‰åŠŸèƒ½ï¼Œ</span>
            <span class="token comment">// æ‰€ä»¥å¦‚æœè¦ä»¥ web ä¸ºæ„å»ºç›®æ ‡ï¼Œå°±å¿…é¡»ç¦ç”¨ä¸€äº›åŠŸèƒ½ã€‚</span>
            limits<span class="token punctuation">:</span> <span class="token keyword">if</span> <span class="token macro property">cfg!</span><span class="token punctuation">(</span>target_arch <span class="token operator">=</span> <span class="token string">&quot;wasm32&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Limits</span><span class="token punctuation">::</span><span class="token function">downlevel_webgl2_defaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Limits</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            label<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token class-name">None</span><span class="token punctuation">,</span> <span class="token comment">// è¿½è¸ª API è°ƒç”¨è·¯å¾„</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>DeviceDescriptor</code>ä¸Šçš„ <code>features</code> å­—æ®µå…è®¸æˆ‘ä»¬æŒ‡å®šæƒ³è¦çš„æ‰©å±•åŠŸèƒ½ã€‚å¯¹äºè¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘å†³å®šä¸ä½¿ç”¨ä»»ä½•é¢å¤–çš„åŠŸèƒ½ã€‚</p><div class="note"><p>æ˜¾å¡ä¼šé™åˆ¶å¯ç”¨çš„æ‰©å±•åŠŸèƒ½ï¼Œæ‰€ä»¥å¦‚æœæƒ³ä½¿ç”¨æŸäº›åŠŸèƒ½ï¼Œä½ å¯èƒ½éœ€è¦é™åˆ¶æ”¯æŒçš„è®¾å¤‡æˆ–æä¾›å˜é€šå‡½æ•°ã€‚</p><p>å¯ä»¥ä½¿ç”¨ <code>adapter.features()</code> æˆ– <code>device.features()</code> è·å–è®¾å¤‡æ”¯æŒçš„æ‰©å±•åŠŸèƒ½åˆ—è¡¨ã€‚</p><p>å¦‚æœæœ‰éœ€è¦ï¼Œè¯·æŸ¥çœ‹å®Œæ•´çš„<a href="https://docs.rs/wgpu/latest/wgpu/struct.Features.html" target="_blank" rel="noopener noreferrer">æ‰©å±•åŠŸèƒ½åˆ—è¡¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p></div><p><code>limits</code> å­—æ®µæè¿°äº†åˆ›å»ºæŸäº›ç±»å‹çš„èµ„æºçš„é™åˆ¶ã€‚æˆ‘ä»¬åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨é»˜è®¤å€¼ï¼Œæ‰€ä»¥å¯ä»¥æ”¯æŒå¤§å¤šæ•°è®¾å¤‡ã€‚ä½ å¯ä»¥<a href="https://docs.rs/wgpu/0.13.1/wgpu/struct.Limits.html" target="_blank" rel="noopener noreferrer">åœ¨è¿™é‡Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æŸ¥çœ‹é™åˆ¶åˆ—è¡¨ã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code>    <span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">SurfaceConfiguration</span> <span class="token punctuation">{</span>
        usage<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">TextureUsages</span><span class="token punctuation">::</span><span class="token constant">RENDER_ATTACHMENT</span><span class="token punctuation">,</span>
        format<span class="token punctuation">:</span> surface<span class="token punctuation">.</span><span class="token function">get_supported_formats</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>adapter<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        width<span class="token punctuation">:</span> size<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> size<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
        present_mode<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PresentMode</span><span class="token punctuation">::</span><span class="token class-name">Fifo</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    surface<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>device<span class="token punctuation">,</span> <span class="token operator">&amp;</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œæˆ‘ä»¬ä¸º<strong>å±•ç¤ºå¹³é¢</strong>å®šä¹‰äº†ä¸€ä¸ªé…ç½®ã€‚å®ƒå°†å®šä¹‰å±•ç¤ºå¹³é¢å¦‚ä½•åˆ›å»ºå…¶åº•å±‚çš„ <code>SurfaceTexture</code>ã€‚è®² <code>render</code> å‡½æ•°æ—¶æˆ‘ä»¬å†å…·ä½“è®¨è®º <code>SurfaceTexture</code>ï¼Œç°åœ¨å…ˆè°ˆè°ˆæ­¤é…ç½®çš„å­—æ®µã€‚</p><p><code>usage</code> å­—æ®µæè¿°äº† <code>SurfaceTexture</code> å¦‚ä½•è¢«ä½¿ç”¨ã€‚<code>RENDER_ATTACHMENT</code> æŒ‡å®šå°†è¢«ç”¨æ¥æ¸²æŸ“åˆ°å±å¹•çš„çº¹ç†ï¼ˆæˆ‘ä»¬å°†åœ¨åé¢è®¨è®ºæ›´å¤šçš„ <code>TextureUsages</code> æšä¸¾å€¼ï¼‰ã€‚</p><p><code>format</code> å®šä¹‰äº† <code>SurfaceTexture</code> åœ¨ GPU å†…å­˜ä¸Šå¦‚ä½•è¢«å­˜å‚¨ã€‚ä¸åŒçš„æ˜¾ç¤ºè®¾å¤‡åå¥½ä¸åŒçš„çº¹ç†æ ¼å¼ã€‚æˆ‘ä»¬ä½¿ç”¨<code>surface.get_preferred_format(&amp;adapter)</code> æ¥è·å–ä½ ä½¿ç”¨çš„æ˜¾ç¤ºè®¾å¤‡çš„æœ€ä½³æ ¼å¼ã€‚</p><p><code>width</code> å’Œ <code>height</code> æŒ‡å®š <code>SurfaceTexture</code> çš„å®½åº¦å’Œé«˜åº¦ï¼ˆç‰©ç†åƒç´ ï¼Œç­‰äºé€»è¾‘åƒç´ ä¹˜ä»¥å±å¹•ç¼©æ”¾å› å­ï¼‰ã€‚è¿™é€šå¸¸å°±æ˜¯çª—å£çš„å®½å’Œé«˜ã€‚</p><div class="warning"><p>éœ€è¦ç¡®ä¿ <code>SurfaceTexture</code> çš„å®½é«˜ä¸èƒ½ä¸º 0ï¼Œè¿™ä¼šå¯¼è‡´ä½ çš„åº”ç”¨ç¨‹åºå´©æºƒã€‚</p></div><p><code>present_mode</code> æŒ‡å®šçš„ <code>wgpu::PresentMode</code> æšä¸¾å€¼å†³å®šäº†<strong>å±•ç¤ºå¹³é¢</strong>å¦‚ä½•ä¸<strong>æ˜¾ç¤ºè®¾å¤‡</strong>åŒæ­¥ã€‚æˆ‘ä»¬é€‰æ‹©çš„<code>PresentMode::Fifo</code> æŒ‡å®šäº†æ˜¾ç¤ºè®¾å¤‡çš„åˆ·æ–°ç‡åšä¸ºæ¸²æŸ“çš„å¸§é€Ÿç‡ï¼Œè¿™æœ¬è´¨ä¸Šå°±æ˜¯<strong>å‚ç›´åŒæ­¥</strong>ï¼ˆVSyncï¼‰ï¼Œæ‰€æœ‰å¹³å°éƒ½å¾—æ”¯æŒè¿™ç§<strong>å‘ˆç°æ¨¡å¼</strong>ï¼ˆPresentModeï¼‰ã€‚ä½ å¯ä»¥åœ¨<a href="https://docs.rs/wgpu/latest/wgpu/enum.PresentMode.html" target="_blank" rel="noopener noreferrer">æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ä¸­æŸ¥çœ‹æ‰€æœ‰çš„æ¨¡å¼ã€‚</p><div class="note"><p>å½“ä½ æƒ³è®©ç”¨æˆ·æ¥é€‰æ‹©ä»–ä»¬ä½¿ç”¨çš„<strong>å‘ˆç°æ¨¡å¼</strong>æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://docs.rs/wgpu/latest/wgpu/struct.Surface.html#method.get_supported_modes" target="_blank" rel="noopener noreferrer">Surface::get_supported_modes()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è·å–å±•ç¤ºå¹³é¢æ”¯æŒçš„æ‰€æœ‰<strong>å‘ˆç°æ¨¡å¼</strong>çš„åˆ—è¡¨:</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> modes <span class="token operator">=</span> surface<span class="token punctuation">.</span><span class="token function">get_supported_modes</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>adapter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>PresentMode::Fifo</code> æ¨¡å¼æ— è®ºå¦‚ä½•éƒ½æ˜¯è¢«æ”¯æŒçš„ï¼Œ<code>PresentMode::AutoVsync</code> å’Œ <code>PresentMode::AutoNoVsync</code> æ”¯æŒå›é€€ï¼Œå› æ­¤ä¹Ÿèƒ½å·¥ä½œåœ¨æ‰€æœ‰å¹³å°ä¸Šã€‚</p></div><p>ç°åœ¨å·²ç»æ­£ç¡®åœ°é…ç½®äº†<strong>å±•ç¤ºå¹³é¢</strong>ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°çš„æœ«å°¾æ·»åŠ ä¸Šè¿™äº›æ–°å­—æ®µï¼š</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code>        <span class="token keyword">Self</span> <span class="token punctuation">{</span>
            surface<span class="token punctuation">,</span>
            device<span class="token punctuation">,</span>
            queue<span class="token punctuation">,</span>
            config<span class="token punctuation">,</span>
            size<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äº <code>State::new()</code> å‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼Œå› æ­¤éœ€è¦æŠŠ <code>run()</code> ä¹Ÿæ”¹æˆå¼‚æ­¥çš„ï¼Œä»¥ä¾¿å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨å¤„ç­‰å¾…å®ƒã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">pub</span> <span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// çª—å£è®¾ç½®...</span>

    <span class="token keyword">let</span> <span class="token keyword">mut</span> state <span class="token operator">=</span> <span class="token class-name">State</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span>

    <span class="token comment">// äº‹ä»¶éå†...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ <code>run()</code> æ˜¯å¼‚æ­¥çš„äº†ï¼Œ<code>main()</code> éœ€è¦æŸç§æ–¹å¼æ¥ç­‰å¾…å®ƒæ‰§è¡Œå®Œæˆã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <a href="https://docs.rs/tokio" target="_blank" rel="noopener noreferrer">tokio<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æˆ– <a href="https://docs.rs/async-std" target="_blank" rel="noopener noreferrer">async-std<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ç­‰å¼‚æ­¥<strong>åŒ…</strong>ï¼Œä½†æˆ‘æ‰“ç®—ä½¿ç”¨æ›´è½»é‡çº§çš„ <a href="https://docs.rs/pollster" target="_blank" rel="noopener noreferrer">pollster<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚åœ¨ &quot;Cargo.toml&quot; ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š</p><div class="language-toml ext-toml line-numbers-mode"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span>
<span class="token comment"># å…¶ä»–ä¾èµ–...</span>
<span class="token key property">pollster</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.2&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬ä½¿ç”¨ pollster æä¾›çš„ <code>block_on</code> å‡½æ•°æ¥ç­‰å¾…å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼š</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token namespace">pollster<span class="token punctuation">::</span></span><span class="token function">block_on</span><span class="token punctuation">(</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="warning"><p>WASM ç¯å¢ƒä¸­ä¸èƒ½åœ¨å¼‚æ­¥å‡½æ•°é‡Œä½¿ç”¨ <code>block_on</code>ã€‚<code>Future</code>ï¼ˆå¼‚æ­¥å‡½æ•°çš„è¿”å›å¯¹è±¡ï¼‰å¿…é¡»ä½¿ç”¨æµè§ˆå™¨çš„æ‰§è¡Œå™¨æ¥è¿è¡Œã€‚å¦‚æœä½ è¯•å›¾ä½¿ç”¨è‡ªå·±çš„æ‰§è¡Œå™¨ï¼Œä¸€æ—¦é‡åˆ°æ²¡æœ‰ç«‹å³æ‰§è¡Œçš„ <code>Future</code> æ—¶ä»£ç å°±ä¼šå´©æºƒã€‚</p></div><p>å¦‚æœç°åœ¨å°è¯•æ„å»º WASM å°†ä¼šå¤±è´¥ï¼Œå› ä¸º <code>wasm-bindgen</code> ä¸æ”¯æŒä½¿ç”¨å¼‚æ­¥å‡½æ•°ä½œä¸ºâ€œå¼€å§‹â€å‡½æ•°ã€‚ä½ å¯ä»¥æ”¹æˆåœ¨ javascript ä¸­æ‰‹åŠ¨è°ƒç”¨ <code>run</code>ï¼Œä½†ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†æŠŠ <a href="https://docs.rs/wasm-bindgen-futures" target="_blank" rel="noopener noreferrer">wasm-bindgen-futures<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <strong>åŒ…</strong>æ·»åŠ åˆ° WASM ä¾èµ–é¡¹ä¸­ï¼Œå› ä¸ºè¿™ä¸éœ€è¦æ”¹å˜ä»»ä½•ä»£ç ã€‚ä½ çš„ä¾èµ–é¡¹åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><div class="language-toml ext-toml line-numbers-mode"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span>
<span class="token key property">cfg-if</span> <span class="token punctuation">=</span> <span class="token string">&quot;1&quot;</span>
<span class="token key property">winit</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.27.1&quot;</span>
<span class="token key property">env_logger</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.9&quot;</span>
<span class="token key property">log</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.4&quot;</span>
<span class="token key property">wgpu</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.14&quot;</span>
<span class="token key property">pollster</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.2&quot;</span>

<span class="token punctuation">[</span><span class="token table class-name">target.&#39;cfg(target_arch = &quot;wasm32&quot;)&#39;.dependencies</span><span class="token punctuation">]</span>
<span class="token key property">console_error_panic_hook</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.1.6&quot;</span>
<span class="token key property">console_log</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.2.0&quot;</span>
<span class="token key property">wgpu</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.14&quot;</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;webgl&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token key property">wasm-bindgen</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.2.83&quot;</span>
<span class="token key property">wasm-bindgen-futures</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.4&quot;</span>
<span class="token key property">web-sys</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.3.60&quot;</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;Document&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Window&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Element&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è°ƒæ•´å±•ç¤ºå¹³é¢çš„å®½é«˜" tabindex="-1"><a class="header-anchor" href="#è°ƒæ•´å±•ç¤ºå¹³é¢çš„å®½é«˜" aria-hidden="true">#</a> è°ƒæ•´å±•ç¤ºå¹³é¢çš„å®½é«˜</h2><p>å¦‚æœè¦åœ¨åº”ç”¨ç¨‹åºä¸­æ”¯æŒè°ƒæ•´<strong>å±•ç¤ºå¹³é¢</strong>çš„å®½é«˜ï¼Œå°†éœ€è¦åœ¨æ¯æ¬¡çª—å£çš„å¤§å°æ”¹å˜æ—¶é‡æ–°é…ç½® <code>surface</code>ã€‚è¿™å°±æ˜¯æˆ‘ä»¬å­˜å‚¨ç‰©ç† <code>size</code> å’Œç”¨äºé…ç½® <code>surface</code> çš„ <code>config</code> çš„åŸå› ã€‚æœ‰äº†è¿™äº›ï¼Œå®ç° resize å‡½æ•°å°±éå¸¸ç®€å•äº†ã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token comment">// impl State</span>
<span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">resize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> new_size<span class="token punctuation">:</span> <span class="token namespace">winit<span class="token punctuation">::</span>dpi<span class="token punctuation">::</span></span><span class="token class-name">PhysicalSize</span><span class="token operator">&lt;</span><span class="token keyword">u32</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> new_size<span class="token punctuation">.</span>width <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> new_size<span class="token punctuation">.</span>height <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>size <span class="token operator">=</span> new_size<span class="token punctuation">;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>width <span class="token operator">=</span> new_size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>height <span class="token operator">=</span> new_size<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>surface<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>device<span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œå’Œæœ€åˆçš„ <code>surface</code> é…ç½®æ²¡ä»€ä¹ˆä¸åŒï¼Œæ‰€ä»¥å°±ä¸å†èµ˜è¿°ã€‚</p><p>åœ¨ <code>run()</code> å‡½æ•°çš„äº‹ä»¶å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬åœ¨ä»¥ä¸‹äº‹ä»¶ä¸­è°ƒç”¨ <code>resize()</code> å‡½æ•°ã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">match</span> event <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>

    <span class="token punctuation">}</span> <span class="token keyword">if</span> window_id <span class="token operator">==</span> window<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">if</span> <span class="token operator">!</span>state<span class="token punctuation">.</span><span class="token function">input</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">match</span> event <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>

            <span class="token class-name">WindowEvent</span><span class="token punctuation">::</span><span class="token class-name">Resized</span><span class="token punctuation">(</span>physical_size<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                state<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token operator">*</span>physical_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">WindowEvent</span><span class="token punctuation">::</span><span class="token class-name">ScaleFactorChanged</span> <span class="token punctuation">{</span> new_inner_size<span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token comment">// new_inner_size æ˜¯ &amp;&amp;mut ç±»å‹ï¼Œå› æ­¤éœ€è¦è§£å¼•ç”¨ä¸¤æ¬¡</span>
                state<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token operator">*</span>new_inner_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äº‹ä»¶è¾“å…¥" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶è¾“å…¥" aria-hidden="true">#</a> äº‹ä»¶è¾“å…¥</h2><p><code>input()</code> å‡½æ•°è¿”å›ä¸€ä¸ª <code>bool</code>ï¼ˆå¸ƒå°”å€¼ï¼‰ï¼Œè¡¨ç¤ºä¸€ä¸ªäº‹ä»¶æ˜¯å¦å·²ç»è¢«å¤„ç†ã€‚å¦‚æœè¯¥å‡½æ•°è¿”å› <code>true</code>ï¼Œä¸»å¾ªç¯å°±ä¸å†ç»§ç»­å¤„ç†è¯¥äº‹ä»¶ã€‚</p><p>æˆ‘ä»¬ç°åœ¨æ²¡æœ‰ä»»ä½•æƒ³è¦æ•è·çš„äº‹ä»¶ï¼Œåªéœ€è¦è¿”å› falseã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token comment">// impl State</span>
<span class="token keyword">fn</span> <span class="token function-definition function">input</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">,</span> event<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">WindowEvent</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
    <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜éœ€è¦åœ¨äº‹ä»¶å¾ªç¯ä¸­å¤šåšä¸€ç‚¹å·¥ä½œï¼Œæˆ‘ä»¬å¸Œæœ› <code>State</code> åœ¨ <code>run()</code> å‡½æ•°å†…çš„äº‹ä»¶å¤„ç†ä¸­æ‹¥æœ‰ç¬¬ä¸€ä¼˜å…ˆçº§ã€‚ä¿®æ”¹åï¼ˆåŠ ä¸Šä¹‹å‰çš„ä¿®æ”¹ï¼‰çš„ä»£ç çœ‹èµ·æ¥åƒæ˜¯è¿™æ ·çš„ï¼š</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token comment">// run()</span>
event_loop<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>event<span class="token punctuation">,</span> _<span class="token punctuation">,</span> control_flow<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">match</span> event <span class="token punctuation">{</span>
        <span class="token class-name">Event</span><span class="token punctuation">::</span><span class="token class-name">WindowEvent</span> <span class="token punctuation">{</span>
            <span class="token keyword">ref</span> event<span class="token punctuation">,</span>
            window_id<span class="token punctuation">,</span>
        <span class="token punctuation">}</span> <span class="token keyword">if</span> window_id <span class="token operator">==</span> window<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">if</span> <span class="token operator">!</span>state<span class="token punctuation">.</span><span class="token function">input</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// æ›´æ–°!</span>
            <span class="token keyword">match</span> event <span class="token punctuation">{</span>
                <span class="token class-name">WindowEvent</span><span class="token punctuation">::</span><span class="token class-name">CloseRequested</span>
                <span class="token operator">|</span> <span class="token class-name">WindowEvent</span><span class="token punctuation">::</span><span class="token class-name">KeyboardInput</span> <span class="token punctuation">{</span>
                    input<span class="token punctuation">:</span>
                        <span class="token class-name">KeyboardInput</span> <span class="token punctuation">{</span>
                            state<span class="token punctuation">:</span> <span class="token class-name">ElementState</span><span class="token punctuation">::</span><span class="token class-name">Pressed</span><span class="token punctuation">,</span>
                            virtual_keycode<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">VirtualKeyCode</span><span class="token punctuation">::</span><span class="token class-name">Escape</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            <span class="token punctuation">..</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">..</span>
                <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token operator">*</span>control_flow <span class="token operator">=</span> <span class="token class-name">ControlFlow</span><span class="token punctuation">::</span><span class="token class-name">Exit</span><span class="token punctuation">,</span>
                <span class="token class-name">WindowEvent</span><span class="token punctuation">::</span><span class="token class-name">Resized</span><span class="token punctuation">(</span>physical_size<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    state<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token operator">*</span>physical_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">WindowEvent</span><span class="token punctuation">::</span><span class="token class-name">ScaleFactorChanged</span> <span class="token punctuation">{</span> new_inner_size<span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    state<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token operator">*</span>new_inner_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                _ <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        _ <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ›´æ–°" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°" aria-hidden="true">#</a> æ›´æ–°</h2><p>ç›®å‰è¿˜æ²¡æœ‰ä»»ä½•ä¸œè¥¿éœ€è¦æ›´æ–°ï¼Œæ‰€ä»¥ä»¤è¿™ä¸ªå‡½æ•°ä¸ºç©ºã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">update</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// remove `todo!()`</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ç¨åå°†åœ¨è¿™é‡Œæ·»åŠ ä¸€äº›ä»£ç ï¼Œä»¥ä¾¿è®©ç»˜åˆ¶å¯¹è±¡åŠ¨èµ·æ¥ã€‚</p><h2 id="æ¸²æŸ“" tabindex="-1"><a class="header-anchor" href="#æ¸²æŸ“" aria-hidden="true">#</a> æ¸²æŸ“</h2><p>è¿™é‡Œå°±æ˜¯å¥‡è¿¹å‘ç”Ÿçš„åœ°æ–¹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è·å–ä¸€ä¸ª<strong>å¸§</strong>ï¼ˆFrameï¼‰å¯¹è±¡ä»¥ä¾›æ¸²æŸ“ï¼š</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token comment">// impl State</span>

<span class="token keyword">fn</span> <span class="token function-definition function">render</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">SurfaceError</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>surface<span class="token punctuation">.</span><span class="token function">get_current_texture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>get_current_texture</code> å‡½æ•°ä¼šç­‰å¾… <code>surface</code> æä¾›ä¸€ä¸ªæ–°çš„ <code>SurfaceTexture</code>ã€‚æˆ‘ä»¬å°†å®ƒå­˜å‚¨åœ¨ <code>output</code> å˜é‡ä¸­ä»¥ä¾¿åç»­ä½¿ç”¨ã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> view <span class="token operator">=</span> output<span class="token punctuation">.</span>texture<span class="token punctuation">.</span><span class="token function">create_view</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">TextureViewDescriptor</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸€è¡Œåˆ›å»ºäº†ä¸€ä¸ªé»˜è®¤è®¾ç½®çš„<strong>çº¹ç†è§†å›¾</strong>ï¼ˆTextureViewï¼‰ï¼Œæ¸²æŸ“ä»£ç éœ€è¦åˆ©ç”¨<strong>çº¹ç†è§†å›¾</strong>æ¥ä¸<strong>çº¹ç†</strong>äº¤äº’ã€‚</p><p>æˆ‘ä»¬è¿˜éœ€è¦åˆ›å»ºä¸€ä¸ª<strong>å‘½ä»¤ç¼–ç å™¨</strong>ï¼ˆCommandEncoderï¼‰æ¥è®°å½•å®é™…çš„<strong>å‘½ä»¤</strong>å‘é€ç»™ GPUã€‚å¤§å¤šæ•°ç°ä»£å›¾å½¢æ¡†æ¶å¸Œæœ›å‘½ä»¤åœ¨è¢«å‘é€åˆ° GPU ä¹‹å‰å­˜å‚¨åœ¨ä¸€ä¸ª<strong>å‘½ä»¤ç¼“å†²åŒº</strong>ä¸­ã€‚å‘½ä»¤ç¼–ç å™¨åˆ›å»ºäº†ä¸€ä¸ªå‘½ä»¤ç¼“å†²åŒºï¼Œç„¶åæˆ‘ä»¬å¯ä»¥å°†å…¶å‘é€ç»™ GPUã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span> encoder <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>device<span class="token punctuation">.</span><span class="token function">create_command_encoder</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">CommandEncoderDescriptor</span> <span class="token punctuation">{</span>
    label<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;Render Encoder&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨å¯ä»¥å¼€å§‹æ‰§è¡ŒæœŸç›¼å·²ä¹…çš„<strong>æ¸…å±</strong>ï¼ˆç”¨ç»Ÿä¸€çš„é¢œè‰²å¡«å……æŒ‡å®šæ¸²æŸ“åŒºåŸŸï¼‰äº†ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>encoder</code> æ¥åˆ›å»º<strong>æ¸²æŸ“é€šé“</strong>ï¼ˆ<code>RenderPass</code>ï¼‰ã€‚<strong>æ¸²æŸ“é€šé“</strong>ç¼–ç æ‰€æœ‰å®é™…ç»˜åˆ¶çš„<strong>å‘½ä»¤</strong>ã€‚åˆ›å»ºæ¸²æŸ“é€šé“çš„ä»£ç åµŒå¥—å±‚çº§æœ‰ç‚¹æ·±ï¼Œæ‰€ä»¥åœ¨è°ˆè®ºå®ƒä¹‹å‰ï¼Œæˆ‘å…ˆæŠŠä»£ç å…¨éƒ¨å¤åˆ¶åˆ°è¿™é‡Œï¼š</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code>    <span class="token punctuation">{</span>
        <span class="token keyword">let</span> _render_pass <span class="token operator">=</span> encoder<span class="token punctuation">.</span><span class="token function">begin_render_pass</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RenderPassDescriptor</span> <span class="token punctuation">{</span>
            label<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;Render Pass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            color_attachments<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RenderPassColorAttachment</span> <span class="token punctuation">{</span>
                view<span class="token punctuation">:</span> <span class="token operator">&amp;</span>view<span class="token punctuation">,</span>
                resolve_target<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
                ops<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Operations</span> <span class="token punctuation">{</span>
                    load<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">LoadOp</span><span class="token punctuation">::</span><span class="token class-name">Clear</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Color</span> <span class="token punctuation">{</span>
                        r<span class="token punctuation">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
                        g<span class="token punctuation">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
                        b<span class="token punctuation">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span>
                        a<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    store<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            depth_stencil_attachment<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// submit å‘½ä»¤èƒ½æ¥å—ä»»ä½•å®ç°äº† IntoIter trait çš„å‚æ•°</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token namespace">std<span class="token punctuation">::</span>iter<span class="token punctuation">::</span></span><span class="token function">once</span><span class="token punctuation">(</span>encoder<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    output<span class="token punctuation">.</span><span class="token function">present</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆ <code>encoder.begin_render_pass(...)</code> å‘¨å›´ç”¨ <code>{}</code> å¼€è¾Ÿå‡ºæ¥çš„å—ç©ºé—´ã€‚<code>begin_render_pass()</code> ä»¥å¯å˜æ–¹å¼å€Ÿç”¨äº†<code>encoder</code>ï¼ˆåˆç§° <code>&amp;mut self</code>ï¼‰ï¼Œåœ¨é‡Šæ”¾è¿™ä¸ªå¯å˜å€Ÿç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸èƒ½è°ƒç”¨ <code>encoder.finish()</code>ã€‚è¿™ä¸ªå—ç©ºé—´å‘Šè¯‰ rustï¼Œå½“ä»£ç ç¦»å¼€è¿™ä¸ªèŒƒå›´æ—¶ï¼Œä¸¢å¼ƒå…¶ä¸­çš„ä»»ä½•å˜é‡ï¼Œä»è€Œé‡Šæ”¾ <code>encoder</code> ä¸Šçš„å¯å˜å€Ÿç”¨ï¼Œå¹¶å…è®¸æˆ‘ä»¬ <code>finish()</code> å®ƒã€‚å¦‚æœä½ ä¸å–œæ¬¢ <code>{}</code>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>drop(render_pass)</code> æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚</p><p>ä»£ç çš„æœ€åå‡ è¡Œå‘Šè¯‰ <code>wgpu</code> å®Œæˆ<strong>å‘½ä»¤ç¼“å†²åŒº</strong>ï¼Œå¹¶å°†å…¶æäº¤ç»™ gpu çš„<strong>æ¸²æŸ“é˜Ÿåˆ—</strong>ã€‚</p><p>æˆ‘ä»¬éœ€å†æ¬¡æ›´æ–°äº‹ä»¶å¾ªç¯ä»¥è°ƒç”¨ <code>render()</code> å‡½æ•°ï¼Œè¿˜ä¼šåœ¨å®ƒä¹‹å‰å…ˆè°ƒç”¨ <code>update()</code>ã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token comment">// run()</span>
event_loop<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>event<span class="token punctuation">,</span> _<span class="token punctuation">,</span> control_flow<span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">match</span> event <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        <span class="token class-name">Event</span><span class="token punctuation">::</span><span class="token class-name">RedrawRequested</span><span class="token punctuation">(</span>window_id<span class="token punctuation">)</span> <span class="token keyword">if</span> window_id <span class="token operator">==</span> window<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">match</span> state<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Ok</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                <span class="token comment">// å½“å±•ç¤ºå¹³é¢çš„ä¸Šä¸‹æ–‡ä¸¢å¤±ï¼Œå°±éœ€é‡æ–°é…ç½®</span>
                <span class="token class-name">Err</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">SurfaceError</span><span class="token punctuation">::</span><span class="token class-name">Lost</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ç³»ç»Ÿå†…å­˜ä¸è¶³æ—¶ï¼Œç¨‹åºåº”è¯¥é€€å‡ºã€‚</span>
                <span class="token class-name">Err</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">SurfaceError</span><span class="token punctuation">::</span><span class="token class-name">OutOfMemory</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">*</span>control_flow <span class="token operator">=</span> <span class="token class-name">ControlFlow</span><span class="token punctuation">::</span><span class="token class-name">Exit</span><span class="token punctuation">,</span>
                <span class="token comment">// æ‰€æœ‰å…¶ä»–é”™è¯¯ï¼ˆè¿‡æœŸã€è¶…æ—¶ç­‰ï¼‰åº”åœ¨ä¸‹ä¸€å¸§è§£å†³</span>
                <span class="token class-name">Err</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token macro property">eprintln!</span><span class="token punctuation">(</span><span class="token string">&quot;{:?}&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Event</span><span class="token punctuation">::</span><span class="token class-name">MainEventsCleared</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// é™¤éæˆ‘ä»¬æ‰‹åŠ¨è¯·æ±‚ï¼ŒRedrawRequested å°†åªä¼šè§¦å‘ä¸€æ¬¡ã€‚</span>
            window<span class="token punctuation">.</span><span class="token function">request_redraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŸºäºä»¥ä¸Šè¿™äº›ï¼Œä½ å°±èƒ½è·å¾—å¦‚ä¸‹æ¸²æŸ“æ•ˆæœï¼š</p><p><img src="data:image/png;base64,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IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAOiECAADUCREAAKBOiAAAAHVCBAAAqBMiAABAnRABAADqhAgAAFAnRAAAgDohAgAA1AkRAACgTogAAAB1QgQAAKgTIgAAQJ0QAQAA6oQIAABQJ0QAAIA6IQIAANQJEQAAoE6IAAAAdUIEAACoEyIAAECdEAEAAOqECAAAUCdEAACAuqkk2b5udKHnAAAAfob8P4Fe1tYvSjndAAAAAElFTkSuQmCC" alt="è“è‰²èƒŒæ™¯çš„çª—å£"></p><h2 id="å…³äºæ¸²æŸ“é€šé“æè¿°ç¬¦" tabindex="-1"><a class="header-anchor" href="#å…³äºæ¸²æŸ“é€šé“æè¿°ç¬¦" aria-hidden="true">#</a> å…³äºæ¸²æŸ“é€šé“æè¿°ç¬¦</h2><p>éƒ¨åˆ†è¯»è€…å¯èƒ½å…‰çœ‹ä»£ç å°±èƒ½ç†è§£ï¼Œä½†å¦‚æœæˆ‘ä¸æŠŠå®ƒä»‹ç»ä¸€éï¼Œé‚£å°±æ˜¯å¤±èŒã€‚è®©æˆ‘ä»¬å†çœ‹ä¸€ä¸‹ä»£ç ï¼š</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RenderPassDescriptor</span> <span class="token punctuation">{</span>
    label<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;Render Pass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    color_attachments<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    depth_stencil_attachment<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¸²æŸ“é€šé“æè¿°ç¬¦</strong>ï¼ˆ<code>RenderPassDescriptor</code>ï¼‰åªæœ‰ä¸‰ä¸ªå­—æ®µ: <code>label</code>, <code>color_attachments</code> å’Œ <code>depth_stencil_attachment</code>ã€‚<code>color_attachments</code> æè¿°äº†è¦å°†é¢œè‰²ç»˜åˆ¶åˆ°å“ªé‡Œã€‚æˆ‘ä»¬ä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„<strong>çº¹ç†è§†å›¾</strong>æ¥ç¡®ä¿æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚</p><div class="note"><p><code>color_attachments</code> å­—æ®µæ˜¯ä¸€ä¸ªç¨€ç–æ•°ç»„ã€‚è¿™å…è®¸ä½ ä½¿ç”¨æœ‰å¤šä¸ªæ¸²æŸ“ç›®æ ‡çš„<strong>ç®¡çº¿</strong>ï¼Œå¹¶ä¸”æœ€ç»ˆåªç»˜åˆ¶åˆ°ä½ æ‰€å…³å¿ƒçš„æŸä¸ªæ¸²æŸ“ç›®æ ‡ã€‚</p></div><p>æˆ‘ä»¬åé¢ä¼šä½¿ç”¨åˆ° <code>depth_stencil_attachment</code>ï¼Œç°åœ¨å…ˆå°†å®ƒè®¾ç½®ä¸º <code>None</code>ã€‚</p><div class="language-rust ext-rs line-numbers-mode"><pre class="language-rust"><code><span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RenderPassColorAttachment</span> <span class="token punctuation">{</span>
    view<span class="token punctuation">:</span> <span class="token operator">&amp;</span>view<span class="token punctuation">,</span>
    resolve_target<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
    ops<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Operations</span> <span class="token punctuation">{</span>
        load<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">LoadOp</span><span class="token punctuation">::</span><span class="token class-name">Clear</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Color</span> <span class="token punctuation">{</span>
            r<span class="token punctuation">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
            g<span class="token punctuation">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
            b<span class="token punctuation">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span>
            a<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        store<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>RenderPassColorAttachment</code> æœ‰ä¸€ä¸ª <code>view</code> å­—æ®µï¼Œç”¨äºé€šçŸ¥ wgpu å°†é¢œè‰²ä¿å­˜åˆ°ä»€ä¹ˆ<strong>çº¹ç†</strong>ã€‚è¿™é‡Œæˆ‘ä»¬æŒ‡å®šä½¿ç”¨ <code>surface.get_current_texture()</code> åˆ›å»ºçš„ <code>view</code>ï¼Œè¿™æ„å‘³ç€å‘æ­¤<strong>é™„ä»¶</strong>ï¼ˆAttachmentï¼‰ä¸Šç»˜åˆ¶çš„ä»»ä½•é¢œè‰²éƒ½ä¼šè¢«ç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚</p><p><code>resolve_target</code> æ˜¯æ¥æ”¶<strong>å¤šé‡é‡‡æ ·</strong>è§£æè¾“å‡ºçš„çº¹ç†ã€‚é™¤éå¯ç”¨äº†å¤šé‡é‡‡æ ·, å¦åˆ™ä¸éœ€è¦è®¾ç½®å®ƒï¼Œä¿ç•™ä¸º <code>None</code> å³å¯ã€‚</p><p><code>ops</code> å­—æ®µéœ€è¦ä¸€ä¸ª <code>wpgu::Operations</code> å¯¹è±¡ã€‚å®ƒå‘Šè¯‰ wgpu å¦‚ä½•å¤„ç†å±å¹•ä¸Šçš„é¢œè‰²ï¼ˆç”± <code>view</code> æŒ‡å®šï¼‰ã€‚<code>load</code> å­—æ®µå‘Šè¯‰ wgpu å¦‚ä½•å¤„ç†å­˜å‚¨åœ¨å‰ä¸€å¸§çš„é¢œè‰²ã€‚ç›®å‰ï¼Œæˆ‘ä»¬æ­£åœ¨ç”¨è“è‰²<strong>æ¸…å±</strong>ã€‚<code>store</code> å­—æ®µå‘Šè¯‰ wgpu æ˜¯å¦è¦å°†æ¸²æŸ“çš„ç»“æœå­˜å‚¨åˆ°<strong>çº¹ç†è§†å›¾</strong>åé¢çš„çº¹ç†ä¸Šï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ <code>SurfaceTexture</code> ï¼‰ã€‚æˆ‘ä»¬å¸Œæœ›å­˜å‚¨æ¸²æŸ“ç»“æœï¼Œæ‰€ä»¥è®¾ç½®ä¸º <code>true</code>ã€‚</p><div class="note"><p>å½“å±å¹•è¢«åœºæ™¯<strong>å¯¹è±¡</strong>å®Œå…¨é®æŒ¡ï¼Œé‚£ä¹ˆä¸<strong>æ¸…å±</strong>æ˜¯å¾ˆå¸¸è§çš„ã€‚ä½†å¦‚æœä½ çš„åœºæ™¯æ²¡æœ‰è¦†ç›–æ•´ä¸ªå±å¹•ï¼Œå°±ä¼šå‡ºç°ç±»ä¼¼ä¸‹è¾¹çš„æƒ…å†µï¼š</p><p><img src="/learn-wgpu-zh/assets/img/no-clear.394368fb.png" alt="./no-clear.png"></p></div><h2 id="éªŒè¯é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#éªŒè¯é”™è¯¯" aria-hidden="true">#</a> éªŒè¯é”™è¯¯?</h2><p>å¦‚æœä½ çš„æœºå™¨ä¸Šè¿è¡Œçš„æ˜¯ Vulkan SDK çš„æ—§ç‰ˆæœ¬ï¼Œ wgpu åœ¨ä½ çš„æœºå™¨ä¸Šä½¿ç”¨ Vulkan åç«¯æ—¶å¯èƒ½ä¼šé‡åˆ°<strong>éªŒè¯é”™è¯¯</strong>ã€‚è‡³å°‘éœ€è¦ä½¿ç”¨ <code>1.2.182</code> åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå› ä¸ºæ—§ç‰ˆæœ¬å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›è¯¯æŠ¥ã€‚å¦‚æœé”™è¯¯æŒç»­å­˜åœ¨ï¼Œé‚£å¯èƒ½æ˜¯é‡åˆ°äº† wgpu çš„é”™è¯¯ã€‚ä½ å¯ä»¥åœ¨ <a href="https://github.com/gfx-rs/wgpu" target="_blank" rel="noopener noreferrer">https://github.com/gfx-rs/wgpu<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸Šæäº¤æ­¤é—®é¢˜ã€‚</p><h2 id="æŒ‘æˆ˜" tabindex="-1"><a class="header-anchor" href="#æŒ‘æˆ˜" aria-hidden="true">#</a> æŒ‘æˆ˜</h2><p>ä¿®æ”¹ <code>input()</code> å‡½æ•°ä»¥æ•è·é¼ æ ‡äº‹ä»¶ï¼Œå¹¶ä½¿ç”¨è¯¥å‡½æ•°æ¥æ›´æ–°<strong>æ¸…å±</strong>çš„é¢œè‰²ã€‚<em>æç¤ºï¼šä½ å¯èƒ½éœ€è¦ç”¨åˆ° <code>WindowEvent::CursorMoved</code></em>ã€‚</p><div id="wasm-example"><!----><button>Try Tutorial2_surface!</button></div><div class="auto-github-link"><a href="https://github.com/jinleili/learn-wgpu-zh/tree/master/code/beginner/tutorial2-surface/" target="_blank" rel="noopener noreferrer"> æŸ¥çœ‹æºç ï¼ </a><!----></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/learn-wgpu-zh/beginner/tutorial1-window/" class="" aria-label="ä¾èµ–ä¸çª—å£"><!--[--><!--]--> ä¾èµ–ä¸çª—å£ <!--[--><!--]--></a></span><span class="next"><a href="/learn-wgpu-zh/beginner/tutorial3-pipeline/" class="" aria-label="ç®¡çº¿ (Pipeline)"><!--[--><!--]--> ç®¡çº¿ (Pipeline) <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/learn-wgpu-zh/assets/js/runtime~app.322c5520.js" defer></script><script src="/learn-wgpu-zh/assets/js/2611.76c5df5b.js" defer></script><script src="/learn-wgpu-zh/assets/js/app.1775ef5e.js" defer></script>
  </body>
</html>
