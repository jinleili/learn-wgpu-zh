<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ç®¡çº¿ (Pipeline) | å­¦ä¹  wgpu</title>
    <meta name="description" content="wgpuï¼šä¸‹ä¸€ä»£è·¨å¹³å°å›¾å½¢æ¥å£ WebGPU çš„ Rust å®ç°">
    <link rel="preload stylesheet" href="/learn-wgpu-zh/assets/style.b9899344.css" as="style">
    <script type="module" src="/learn-wgpu-zh/assets/app.acf1a910.js"></script>
    <link rel="preload" href="/learn-wgpu-zh/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/learn-wgpu-zh/assets/chunks/framework.7354d9ef.js">
  <link rel="modulepreload" href="/learn-wgpu-zh/assets/chunks/theme.72e6cdd7.js">
  <link rel="modulepreload" href="/learn-wgpu-zh/assets/beginner_tutorial3-pipeline_index.md.d1d45963.lean.js">
  <link rel="icon" href="/learn-wgpu-zh/favicon.svg">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-99cf8a88><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ae3e3f51></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ae3e3f51> Skip to content </a><!--]--><!----><header class="VPNav" data-v-99cf8a88 data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-381568bf><div class="container" data-v-381568bf><div class="title" data-v-381568bf><div class="VPNavBarTitle has-sidebar" data-v-381568bf data-v-305adf00><a class="title" href="/learn-wgpu-zh/" data-v-305adf00><!--[--><!--]--><!--[--><img class="VPImage logo" src="/learn-wgpu-zh/res/wgpu-logo.png" alt data-v-6db2186b><!--]--><!--[-->å­¦ä¹  wgpu<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-381568bf><div class="curtain" data-v-381568bf></div><div class="content-body" data-v-381568bf><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-381568bf><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-381568bf data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/learn-wgpu-zh/simuverse" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->Simuverse<!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/jinleili/wgpu-in-app" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->wgpu-in-app<!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/jinleili/bevy-in-app" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->bevy-in-app<!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-381568bf data-v-74abcbb9 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-764effdf><span class="text" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="option-icon" data-v-764effdf><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg>  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><div class="items" data-v-74abcbb9><p class="title" data-v-74abcbb9>ä¸­æ–‡</p><!--[--><div class="VPMenuLink" data-v-74abcbb9 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://sotrh.github.io/learn-wgpu/beginner/tutorial3-pipeline/" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->English<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-381568bf data-v-f6a63727><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-f6a63727 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-381568bf data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink" href="https://github.com/jinleili/learn-wgpu-zh" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-381568bf data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><div class="group translations" data-v-40855f84><p class="trans-title" data-v-40855f84>ä¸­æ–‡</p><!--[--><div class="VPMenuLink" data-v-40855f84 data-v-2f2cfafc><a class="VPLink link vp-external-link-icon" href="https://sotrh.github.io/learn-wgpu/beginner/tutorial3-pipeline/" target="_blank" rel="noreferrer" data-v-2f2cfafc><!--[-->English<!--]--></a></div><!--]--></div><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink" href="https://github.com/jinleili/learn-wgpu-zh" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-381568bf data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-99cf8a88 data-v-a97031cc><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a97031cc><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a97031cc><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a97031cc>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a97031cc data-v-687955bc><button data-v-687955bc>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-99cf8a88 data-v-54885d6c><div class="curtain" data-v-54885d6c></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-54885d6c><span class="visually-hidden" id="sidebar-aria-label" data-v-54885d6c> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 has-active" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>åŸºç¡€</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/tutorial1-window" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ä¾èµ–ä¸çª—å£</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/tutorial2-surface/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>å±•ç¤ºå¹³é¢ (Surface)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/tutorial3-pipeline/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ç®¡çº¿ (Pipeline)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/tutorial4-buffer/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ç¼“å†²åŒºä¸ç´¢å¼•</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/tutorial5-textures/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>çº¹ç†å’Œç»‘å®šç»„</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/tutorial6-uniforms/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Uniform ç¼“å†²åŒºä¸ 3D è™šæ‹Ÿæ‘„åƒæœº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/tutorial7-instancing/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>å®ä¾‹åŒ–ç»˜åˆ¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/tutorial8-depth/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>æ·±åº¦ç¼“å†²åŒº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/tutorial9-models/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>æ¨¡å‹åŠ è½½</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/beginner/wgsl" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ğŸ†• WGSL ç€è‰²å™¨è¯­è¨€</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>è¿›é˜¶</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/intermediate/tutorial10-lighting/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>å…‰ç…§</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/intermediate/tutorial11-normals/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>æ³•çº¿æ˜ å°„</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/intermediate/tutorial12-camera/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>æ›´å¥½çš„æ‘„åƒæœº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/intermediate/compute-pipeline/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ğŸ†• è®¡ç®—ç®¡çº¿</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/intermediate/vertex-animation/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ğŸ†• é¡¶ç‚¹åŠ¨ç”»</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>é›†æˆä¸è°ƒè¯•</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/integration-and-debugging/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>æ¥”å­</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/integration-and-debugging/ios/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ğŸ†• ä¸ iOS App é›†æˆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/integration-and-debugging/android/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ğŸ†• ä¸ Android App é›†æˆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/integration-and-debugging/xcode/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ğŸ†• ä½¿ç”¨ Xcode è°ƒè¯• wgpu ç¨‹åº</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/integration-and-debugging/snapdragon-profiler/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ğŸ†• ä½¿ç”¨ Snapdragon Profiler è°ƒè¯•</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/integration-and-debugging/bevy/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ğŸ†• åœ¨ iOS Android App ä¸­é›†æˆ Bevy æ¸¸æˆå¼•æ“</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>æ¡ˆä¾‹å±•ç¤º</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/showcase/windowless/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ç¦»å±æ¸²æŸ“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/showcase/gifs/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ç”Ÿæˆ GIF åŠ¨å›¾</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/showcase/pong/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Pong</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/showcase/compute/" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Compute Example: Tangents and Bitangents</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>é™„å½•</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/index" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>ä»‹ç»</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/learn-wgpu-zh/GLOSSARY_OF_TERMS" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>æœ¯è¯­ä¸­è‹±å¯¹ç…§è¡¨</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-99cf8a88 data-v-97b5189c><div class="VPDoc has-sidebar has-aside" data-v-97b5189c data-v-e9631fd0><!--[--><!--]--><div class="container" data-v-e9631fd0><div class="aside" data-v-e9631fd0><div class="aside-curtain" data-v-e9631fd0></div><div class="aside-container" data-v-e9631fd0><div class="aside-content" data-v-e9631fd0><div class="VPDocAside" data-v-e9631fd0 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>æœ¬ç« å†…å®¹</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-b0ff2abe><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e9631fd0><div class="content-container" data-v-e9631fd0><!--[--><!--]--><!----><main class="main" data-v-e9631fd0><div style="position:relative;" class="vp-doc _learn-wgpu-zh_beginner_tutorial3-pipeline_index" data-v-e9631fd0><div><h1 id="ç®¡çº¿-pipeline" tabindex="-1">ç®¡çº¿ (Pipeline) <a class="header-anchor" href="#ç®¡çº¿-pipeline" aria-label="Permalink to &quot;ç®¡çº¿ (Pipeline)&quot;">â€‹</a></h1><h2 id="ä»€ä¹ˆæ˜¯ç®¡çº¿" tabindex="-1">ä»€ä¹ˆæ˜¯ç®¡çº¿? <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ç®¡çº¿" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯ç®¡çº¿?&quot;">â€‹</a></h2><p>å¦‚æœä½ ç†Ÿæ‚‰ OpenGLï¼Œåº”è¯¥è®°å¾—ä½¿ç”¨ç€è‰²å™¨ç¨‹åºã€‚ä½ å¯ä»¥æŠŠ<strong>ç®¡çº¿</strong> (Pipeline) çœ‹æˆæ˜¯æ›´å¼ºå¤§çš„ç‰ˆæœ¬ã€‚ä¸€ä¸ªç®¡çº¿æè¿°äº† GPU å°†å¯¹ä¸€ç»„æ•°æ®æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å…·ä½“åˆ›å»ºä¸€ä¸ªæ¸²æŸ“ç®¡çº¿ï¼ˆ<code>RenderPipeline</code>ï¼‰ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯ç€è‰²å™¨" tabindex="-1">ä»€ä¹ˆæ˜¯ç€è‰²å™¨? <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ç€è‰²å™¨" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯ç€è‰²å™¨?&quot;">â€‹</a></h2><p><strong>ç€è‰²å™¨</strong>ï¼ˆShaderï¼‰æ˜¯ä½ å‘é€ç»™ GPU çš„å¾®å‹ç¨‹åºï¼Œç”¨äºå¯¹æ•°æ®è¿›è¡Œæ“ä½œã€‚æœ‰ä¸‰ç§ä¸»è¦ç±»å‹çš„ç€è‰²å™¨ï¼š<strong>é¡¶ç‚¹</strong>ï¼ˆVertexï¼‰ã€<strong>ç‰‡å…ƒ</strong>ï¼ˆFragmentï¼‰å’Œ<strong>è®¡ç®—</strong>ï¼ˆComputeï¼‰ç€è‰²å™¨ã€‚å¦å¤–è¿˜æœ‰å…¶ä»–çš„å¦‚å‡ ä½•ç€è‰²å™¨ï¼Œä½†å®ƒä»¬å±äºè¿›é˜¶è¯é¢˜ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨é¡¶ç‚¹å’Œç‰‡å…ƒç€è‰²å™¨ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯é¡¶ç‚¹å’Œç‰‡å…ƒ" tabindex="-1">ä»€ä¹ˆæ˜¯é¡¶ç‚¹å’Œç‰‡å…ƒï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯é¡¶ç‚¹å’Œç‰‡å…ƒ" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯é¡¶ç‚¹å’Œç‰‡å…ƒï¼Ÿ&quot;">â€‹</a></h2><p><strong>é¡¶ç‚¹</strong>ï¼ˆVertexï¼‰å°±æ˜¯ä¸‰ç»´ï¼ˆæˆ–äºŒç»´ï¼‰ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ã€‚è¿™äº›é¡¶ç‚¹ä¼šä¸¤ä¸ªä¸€ç»„ä»¥æ„æˆçº¿æ®µé›†åˆï¼Œæˆ–è€…ä¸‰ä¸ªä¸€ç»„ä»¥æ„æˆä¸‰è§’å½¢é›†åˆã€‚</p><img alt="Vertices Graphic" src="/learn-wgpu-zh/assets/tutorial3-pipeline-vertices.eaa25f33.png"><p>ä»ç®€å•çš„ç«‹æ–¹ä½“åˆ°å¤æ‚çš„äººä½“ç»“æ„ï¼Œå¤§å¤šæ•°ç°ä»£æ¸²æŸ“ç³»ç»Ÿéƒ½ä½¿ç”¨ä¸‰è§’å½¢æ¥å»ºæ¨¡æ‰€æœ‰å›¾å½¢ã€‚è¿™äº›ä¸‰è§’å½¢è¢«å­˜å‚¨ä¸ºæ„æˆä¸‰è§’å½¢è§’çš„é¡¶ç‚¹ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨é¡¶ç‚¹ç€è‰²å™¨æ¥æ“ä½œé¡¶ç‚¹ï¼Œä»¥ä¾¿æŒ‰æˆ‘ä»¬æƒ³è¦çš„æ ·å­åšå›¾å½¢çš„å˜æ¢ã€‚</p><p>ç„¶åé¡¶ç‚¹ç»è¿‡<strong>å…‰æ …åŒ–</strong>ï¼ˆrasterizationï¼‰åæµè½¬åˆ°ç‰‡å…ƒç€è‰²é˜¶æ®µï¼Œç‰‡å…ƒç€è‰²å™¨å†³å®šäº†ç‰‡å…ƒçš„é¢œè‰²ã€‚æ¸²æŸ“ç»“æœå›¾åƒä¸­çš„æ¯ä¸ªåƒç´ è‡³å°‘å¯¹åº”ä¸€ä¸ªç‰‡å…ƒï¼Œæ¯ä¸ªç‰‡å…ƒå¯è¾“å‡ºä¸€ä¸ªé¢œè‰²ï¼Œè¯¥é¢œè‰²ä¼šè¢«å­˜å‚¨åˆ°å…¶ç›¸åº”çš„åƒç´ ä¸Šï¼ˆå‡†ç¡®çš„è¯´ï¼Œç‰‡å…ƒçš„è¾“å‡ºæ˜¯å­˜å‚¨åˆ° Color Attachment çš„<strong>çº¹ç´ </strong>ä¸Šï¼‰ã€‚</p><h2 id="webgpu-ç€è‰²å™¨è¯­è¨€-wgsl" tabindex="-1">WebGPU ç€è‰²å™¨è¯­è¨€: WGSL <a class="header-anchor" href="#webgpu-ç€è‰²å™¨è¯­è¨€-wgsl" aria-label="Permalink to &quot;WebGPU ç€è‰²å™¨è¯­è¨€: WGSL&quot;">â€‹</a></h2><p><strong>WGSL</strong> (WebGPU Shading Language) æ˜¯ WebGPU çš„ç€è‰²å™¨è¯­è¨€ã€‚ WGSL çš„å¼€å‘é‡ç‚¹æ˜¯è®©å®ƒè½»æ¾è½¬æ¢ä¸ºä¸åç«¯å¯¹åº”çš„ç€è‰²å™¨è¯­è¨€ï¼›ä¾‹å¦‚ï¼ŒVulkan çš„ SPIR-Vã€Metal çš„ MSLã€DX12 çš„ HLSL å’Œ OpenGL çš„ GLSLã€‚ è¿™ç§è½¬æ¢æ˜¯åœ¨å†…éƒ¨å®Œæˆçš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¿™äº›ç»†èŠ‚ã€‚ å°± wgpu è€Œè¨€ï¼Œå®ƒæ˜¯ç”±åä¸º <a href="https://github.com/gfx-rs/naga" target="_blank" rel="noreferrer">naga</a> çš„<strong>åŒ…</strong>å®Œæˆçš„ã€‚</p><p>åœ¨ <a href="./../wgsl">WGSL ç€è‰²å™¨è¯­è¨€</a> ä¸€ç« ä¸­ï¼Œæœ‰å¯¹ WGSL çš„ç”±æ¥åŠè¯­æ³•çš„æ›´è¯¦ç»†ä»‹ç»ã€‚</p><div class="note"><p>WGSL è§„èŒƒåŠå…¶åœ¨ WGPU ä¸­çš„åº”ç”¨ä»åœ¨å¼€å‘ä¸­ã€‚å¦‚æœåœ¨ä½¿ç”¨ä¸­é‡åˆ°é—®é¢˜ï¼Œä½ æˆ–è®¸å¸Œæœ› <a href="https://app.element.io/#/room/#wgpu:matrix.org" target="_blank" rel="noreferrer">https://app.element.io/#/room/#wgpu:matrix.org</a> ç¤¾åŒºçš„äººå¸®å¿™çœ‹ä¸€ä¸‹ä½ çš„ä»£ç ã€‚</p></div><h2 id="ç¼–å†™ç€è‰²å™¨" tabindex="-1">ç¼–å†™ç€è‰²å™¨ <a class="header-anchor" href="#ç¼–å†™ç€è‰²å™¨" aria-label="Permalink to &quot;ç¼–å†™ç€è‰²å™¨&quot;">â€‹</a></h2><p>åœ¨ <code>main.rs</code> æ‰€åœ¨çš„ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª <code>shader.wgsl</code> æ–‡ä»¶ã€‚åœ¨å…¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// é¡¶ç‚¹ç€è‰²å™¨</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">struct</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">VertexOutput</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">builtin</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> clip_position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> vec4f</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">vertex</span></span>
<span class="line"><span style="color:#F78C6C;">fn</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">vs_main</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">builtin</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">vertex_index</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> in_vertex_index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">u32</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">VertexOutput</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    var out</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">VertexOutput</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">f32</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">i32</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">in_vertex_index</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> y </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">f32</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i32</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">in_vertex_index </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> 1u</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    out</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clip_position </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">vec4f</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> out</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>é¦–å…ˆï¼Œå£°æ˜ä¸€ä¸ª <code>struct</code> æ¥å­˜å‚¨é¡¶ç‚¹ç€è‰²å™¨çš„è¾“å‡ºã€‚ç›®å‰åªæœ‰ä¸€ä¸ªå­—æ®µï¼Œå³ <code>clip_position</code>ã€‚<code>@builtin(position)</code> å±æ€§æ ‡è®°äº†æ­¤å­—æ®µå°†ä½œä¸ºé¡¶ç‚¹åœ¨<a href="https://en.wikipedia.org/wiki/Clip_coordinates" target="_blank" rel="noreferrer">è£å‰ªåæ ‡ç³»</a>ä¸­çš„ä½ç½®æ¥ä½¿ç”¨ã€‚è¿™ç±»ä¼¼äº GLSL çš„ <code>gl_Position</code> å˜é‡ã€‚</p><div class="note"><p>å½¢å¦‚ <code>vec4</code> çš„å‘é‡ç±»å‹æ˜¯æ³›å‹ã€‚ç›®å‰ä½ å¿…é¡»æŒ‡å®šå‘é‡å°†åŒ…å«çš„å€¼çš„ç±»å‹ã€‚å› æ­¤ä¸€ä¸ªä½¿ç”¨ 32 ä½æµ®ç‚¹æ•°çš„ 3 ç»´å‘é‡å†™åš <code>vec3f</code>ã€‚</p></div><p>ç€è‰²å™¨ä»£ç çš„ä¸‹ä¸€éƒ¨åˆ†æ˜¯ <code>vs_main</code> å‡½æ•°ã€‚<code>@vertex</code> å±æ€§æ ‡è®°äº†è¿™ä¸ªå‡½æ•°æ˜¯é¡¶ç‚¹ç€è‰²å™¨çš„æœ‰æ•ˆå…¥å£ã€‚æˆ‘ä»¬é¢„æœŸæœ‰ä¸€ä¸ª <code>u32</code> ç±»å‹çš„å˜é‡ <code>in_vertex_index</code>ï¼Œå®ƒçš„å€¼æ¥è‡ª <code>@builtin(vertex_index)</code>ã€‚</p><p>ç„¶åä½¿ç”¨ <code>VertexOutput</code> ç»“æ„ä½“å£°æ˜ä¸€ä¸ªåä¸º <code>out</code> çš„å˜é‡ã€‚æˆ‘ä»¬ä¸ºé¡¶ç‚¹çš„è£å‰ªç©ºé—´åæ ‡åˆ›å»ºå¦å¤–ä¸¤ä¸ª <code>x</code> <code>y</code> å˜é‡ã€‚</p><div class="note"><p><code>f32()</code> å’Œ <code>i32()</code> è¡¨ç¤ºç±»å‹å¼ºåˆ¶è½¬æ¢ï¼Œå°†æ‹¬å·é‡Œçš„å€¼è½¬æ¢ä¸ºæ­¤ç±»å‹ã€‚</p></div><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æŠŠ <code>clip_position</code> ä¿å­˜åˆ° <code>out</code>ã€‚ç„¶ååªéœ€è¿”å› <code>out</code> å°±å®Œæˆäº†é¡¶ç‚¹ç€è‰²å™¨çš„å·¥ä½œ!</p><div class="note"><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ stuctï¼Œç›´æ¥æŒ‰ä»¥ä¸‹ä»£ç æ¥å®ç°ï¼š</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">vertex</span></span>
<span class="line"><span style="color:#F78C6C;">fn</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">vs_main</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">builtin</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">vertex_index</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> in_vertex_index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">u32</span></span>
<span class="line"><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">builtin</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> vec4f </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // é¡¶ç‚¹ç€è‰²å™¨ code...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div><p>æ¥ä¸‹æ¥æ˜¯ç‰‡å…ƒç€è‰²å™¨ã€‚è¿˜æ˜¯åœ¨ <code>shader.wgsl</code> ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ç‰‡å…ƒç€è‰²å™¨</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">fragment</span></span>
<span class="line"><span style="color:#F78C6C;">fn</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fs_main</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">in</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">VertexOutput</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">location</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> vec4f </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">vec4f</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>è¿™å°†å½“å‰ç‰‡å…ƒçš„é¢œè‰²è®¾ç½®ä¸ºæ£•è‰²ã€‚</p><div class="note"><p>æ³¨æ„ï¼Œé¡¶ç‚¹å’Œç‰‡å…ƒç€è‰²å™¨çš„å…¥å£ç‚¹åˆ†åˆ«è¢«å‘½åä¸º <code>vs_main</code> å’Œ <code>fs_main</code>ã€‚åœ¨ wgpu çš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°æœ‰ç›¸åŒçš„åå­—æ˜¯å¯ä»¥çš„ï¼Œä½†è¾ƒæ–°ç‰ˆæœ¬çš„ <a href="https://www.w3.org/TR/WGSL/#declaration-and-scope" target="_blank" rel="noreferrer">WGSL spec</a> è¦æ±‚è¿™äº›åå­—å¿…é¡»ä¸åŒã€‚å› æ­¤åœ¨æ•´ä¸ªæ•™ç¨‹ä¸­éƒ½ä½¿ç”¨ï¼ˆä» <code>wgpu</code> demo ä¸­é‡‡ç”¨ï¼‰ä¸Šè¿°å‘½åæ–¹æ¡ˆã€‚</p></div><p><code>@location(0)</code> å±æ€§æ ‡è®°äº†è¯¥å‡½æ•°è¿”å›çš„ <code>vec4</code> å€¼å°†å­˜å‚¨åœ¨ç¬¬ä¸€ä¸ª<strong>é¢œè‰²é™„ä»¶</strong>ï¼ˆColor Attachmentï¼‰ä¸­ã€‚</p><h2 id="ä½¿ç”¨ç€è‰²å™¨" tabindex="-1">ä½¿ç”¨ç€è‰²å™¨ <a class="header-anchor" href="#ä½¿ç”¨ç€è‰²å™¨" aria-label="Permalink to &quot;ä½¿ç”¨ç€è‰²å™¨&quot;">â€‹</a></h2><p>ç»ˆäºè¦ç”¨åˆ°æœ¬ç« èŠ‚æ ‡é¢˜æåˆ°çš„æ¦‚å¿µ <strong>ç®¡çº¿</strong>ï¼ˆPipelineï¼‰äº†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ¥ä¿®æ”¹ <code>State</code> ä»¥åŒ…æ‹¬ä»¥ä¸‹ä»£ç ã€‚</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// lib.rs</span></span>
<span class="line"><span style="color:#C792EA;">struct</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">State</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    surface</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Surface</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    device</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Device</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    queue</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Queue</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">SurfaceConfiguration</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    size</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">winit</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">dpi</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">PhysicalSize</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">u32</span><span style="color:#89DDFF;">&gt;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // æ–°æ·»åŠ !</span></span>
<span class="line"><span style="color:#A6ACCD;">    render_pipeline</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">RenderPipeline</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ç°åœ¨ï¼Œå¼€å§‹åœ¨ <code>new()</code> å‡½æ•°å†…åˆ›å»º<strong>ç®¡çº¿</strong>ã€‚æˆ‘ä»¬éœ€è¦è½½å…¥å…ˆå‰å†™çš„ï¼Œæ¸²æŸ“ç®¡çº¿æ‰€éœ€è¦çš„ç€è‰²å™¨ã€‚</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> shader </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> device</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create_shader_module</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">ShaderModuleDescriptor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    label</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Shader</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">    source</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">ShaderSource</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">Wgsl</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">include_str!</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">shader.wgsl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">into</span><span style="color:#89DDFF;">()),</span></span>
<span class="line"><span style="color:#89DDFF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="note"><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>include_wgsl!</code> å®ä½œä¸ºåˆ›å»º <code>ShaderModuleDescriptor</code> çš„å¿«æ·æ–¹å¼ã€‚</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> shader </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> device</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create_shader_module</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">include_wgsl!</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">shader.wgsl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><p>è¿˜éœ€è¦åˆ›å»ºä¸€ä¸ª <code>PipelineLayout</code>ã€‚åœ¨è®²å®Œ<strong>ç¼“å†²åŒº</strong>ï¼ˆ<code>Buffer</code>ï¼‰ä¹‹åï¼Œæˆ‘ä»¬ä¼šå¯¹å®ƒæœ‰æ›´å¤šåœ°äº†è§£ã€‚</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> render_pipeline_layout </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    device</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create_pipeline_layout</span><span style="color:#89DDFF;">(&amp;</span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">PipelineLayoutDescriptor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        label</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Render Pipeline Layout</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">        bind_group_layouts</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;[],</span></span>
<span class="line"><span style="color:#A6ACCD;">        push_constant_ranges</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;[],</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æœ€åï¼Œæˆ‘ä»¬å°±è·å¾—äº†åˆ›å»º <code>render_pipeline</code> æ‰€éœ€çš„å…¨éƒ¨èµ„æºï¼š</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> render_pipeline </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> device</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create_render_pipeline</span><span style="color:#89DDFF;">(&amp;</span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">RenderPipelineDescriptor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    label</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Render Pipeline</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">    layout</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(&amp;</span><span style="color:#A6ACCD;">render_pipeline_layout</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">    vertex</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">VertexState</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">shader</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        entry_point</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vs_main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> // 1.</span></span>
<span class="line"><span style="color:#A6ACCD;">        buffers</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;[],</span><span style="color:#676E95;font-style:italic;"> // 2.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    fragment</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">FragmentState</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;"> // 3.</span></span>
<span class="line"><span style="color:#A6ACCD;">        module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">shader</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        entry_point</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fs_main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        targets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;[</span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">ColorTargetState</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;"> // 4.</span></span>
<span class="line"><span style="color:#A6ACCD;">            format</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">format</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            blend</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">BlendState</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">REPLACE</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">            write_mask</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">ColorWrites</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">ALL</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">})],</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}),</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p><ol><li>å¯ä»¥åœ¨è¿™é‡ŒæŒ‡å®šç€è‰²å™¨ä¸­çš„å“ªä¸ªå‡½æ•°åº”è¯¥æ˜¯å…¥å£ç‚¹ï¼ˆ <code>entry_point</code>ï¼‰ã€‚é‚£æ˜¯æˆ‘ä»¬ç”¨ <code>@vertex</code> å’Œ <code>@fragment</code> æ ‡è®°çš„å‡½æ•°ã€‚</li><li><code>buffers</code> å­—æ®µå‘Šè¯‰ <code>wgpu</code> è¦æŠŠä»€ä¹ˆç±»å‹çš„é¡¶ç‚¹æ•°æ®ä¼ é€’ç»™é¡¶ç‚¹ç€è‰²å™¨ã€‚æˆ‘ä»¬ä¼šåœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­æŒ‡å®šé¡¶ç‚¹ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆç•™ç©ºã€‚ä¸‹ä¸€ä¸ªæ•™ç¨‹ä¸­ä¼šåœ¨æ­¤åŠ å…¥ä¸€äº›æ•°æ®ã€‚</li><li><code>fragment</code> å­—æ®µæ˜¯ Option ç±»å‹ï¼Œæ‰€ä»¥å¿…é¡»ç”¨ <code>Some()</code> æ¥åŒ…è£… <code>FragmentState</code> å®ä¾‹ã€‚å¦‚æœæƒ³æŠŠé¢œè‰²æ•°æ®å­˜å‚¨åˆ° <code>surface</code> å°±éœ€è¦ç”¨åˆ°å®ƒ ã€‚</li><li><code>targets</code> å­—æ®µå‘Šè¯‰ <code>wgpu</code> åº”è¯¥è®¾ç½®å“ªäº›é¢œè‰²è¾“å‡ºç›®æ ‡ã€‚ç›®å‰åªéœ€è®¾ç½®ä¸€ä¸ªè¾“å‡ºç›®æ ‡ã€‚æ ¼å¼æŒ‡å®šä¸ºä½¿ç”¨ <code>surface</code> çš„æ ¼å¼ï¼Œå¹¶ä¸”æŒ‡å®šæ··åˆæ¨¡å¼ä¸ºä»…ç”¨æ–°çš„åƒç´ æ•°æ®æ›¿æ¢æ—§çš„ã€‚æˆ‘ä»¬è¿˜å‘Šè¯‰ <code>wgpu</code> å¯å†™å…¥å…¨éƒ¨ 4 ä¸ªé¢œè‰²é€šé“ï¼šçº¢ã€è“ã€ç»¿å’Œé€æ˜åº¦ã€‚<em>åœ¨è®¨è®ºçº¹ç†æ—¶ä¼šæ›´å¤šåœ°ä»‹ç»</em> <code>color_state</code>ã€‚</li></ol><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">primitive</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">PrimitiveState</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    topology</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">PrimitiveTopology</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">TriangleList</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> // 1.</span></span>
<span class="line"><span style="color:#A6ACCD;">    strip_index_format</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">None</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    front_face</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">FrontFace</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Ccw</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> // 2.</span></span>
<span class="line"><span style="color:#A6ACCD;">    cull_mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Face</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Back</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // å°†æ­¤è®¾ç½®ä¸º Fill ä»¥å¤–çš„ä»»ä½•å€¼éƒ½è¦éœ€è¦å¼€å¯ Feature::NON_FILL_POLYGON_MODE</span></span>
<span class="line"><span style="color:#A6ACCD;">    polygon_mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">PolygonMode</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Fill</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // éœ€è¦å¼€å¯ Features::DEPTH_CLIP_CONTROL</span></span>
<span class="line"><span style="color:#A6ACCD;">    unclipped_depth</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // éœ€è¦å¼€å¯ Features::CONSERVATIVE_RASTERIZATION</span></span>
<span class="line"><span style="color:#A6ACCD;">    conservative</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// continued ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å›¾å…ƒï¼ˆ<code>primitive</code>ï¼‰å­—æ®µæè¿°äº†å°†å¦‚ä½•è§£é‡Šé¡¶ç‚¹æ¥è½¬æ¢ä¸ºä¸‰è§’å½¢ã€‚</p><ol><li><code>PrimitiveTopology::TriangleList</code> æ„å‘³ç€æ¯ä¸‰ä¸ªé¡¶ç‚¹ç»„æˆä¸€ä¸ªä¸‰è§’å½¢ã€‚</li><li><code>front_face</code> å­—æ®µå‘Šè¯‰ <code>wgpu</code> å¦‚ä½•ç¡®å®šä¸‰è§’å½¢çš„æœå‘ã€‚<code>FrontFace::Ccw</code> æŒ‡å®šé¡¶ç‚¹çš„<strong>å¸§ç¼“å†²åŒºåæ ‡</strong>ï¼ˆframebuffer coordinatesï¼‰æŒ‰é€†æ—¶é’ˆé¡ºåºç»™å‡ºçš„ä¸‰è§’å½¢ä¸ºæœå‰ï¼ˆé¢å‘å±å¹•å¤–ï¼‰ã€‚</li><li><code>cull_mode</code> å­—æ®µå‘Šè¯‰ <code>wgpu</code> å¦‚ä½•åšä¸‰è§’å½¢å‰”é™¤ã€‚<code>CullMode::Back</code> æŒ‡å®šæœåï¼ˆé¢å‘å±å¹•å†…ï¼‰çš„ä¸‰è§’å½¢ä¼šè¢«å‰”é™¤ï¼ˆä¸è¢«æ¸²æŸ“ï¼‰ã€‚æˆ‘ä»¬ä¼šåœ¨è®¨è®ºç¼“å†²åŒºï¼ˆ<code>Buffer</code>ï¼‰æ—¶è¯¦ç»†ä»‹ç»å‰”é™¤é—®é¢˜ã€‚</li></ol><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">depth_stencil</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">None</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> // 1.</span></span>
<span class="line"><span style="color:#A6ACCD;">    multisample</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">MultisampleState</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        count</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> // 2.</span></span>
<span class="line"><span style="color:#A6ACCD;">        mask</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> // 3.</span></span>
<span class="line"><span style="color:#A6ACCD;">        alpha_to_coverage_enabled</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span><span style="color:#676E95;font-style:italic;"> // 4.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    multiview</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">None</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> // 5.</span></span>
<span class="line"><span style="color:#89DDFF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>è¯¥å‡½æ•°çš„å…¶ä½™éƒ¨åˆ†éå¸¸ç®€å•ï¼š</p><ol><li>æˆ‘ä»¬ç›®å‰æ²¡æœ‰ä½¿ç”¨æ·±åº¦/æ¨¡æ¿ç¼“å†²åŒºï¼Œå› æ­¤å°† <code>depth_stencil</code> ä¿ç•™ä¸º <code>None</code>ã€‚<em>ä»¥åä¼šç”¨åˆ°</em>ã€‚</li><li><code>count</code> ç¡®å®šç®¡çº¿å°†ä½¿ç”¨å¤šå°‘ä¸ª<strong>é‡‡æ ·</strong>ã€‚å¤šé‡é‡‡æ ·æ˜¯ä¸€ä¸ªå¤æ‚çš„ä¸»é¢˜ï¼Œå› æ­¤ä¸ä¼šåœ¨è¿™é‡Œå±•å¼€è®¨è®ºã€‚</li><li><code>mask</code> æŒ‡å®šå“ªäº›é‡‡æ ·åº”å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚ç›®å‰æˆ‘ä»¬ä½¿ç”¨å…¨éƒ¨é‡‡æ ·ã€‚</li><li><code>alpha_to_coverage_enabled</code> ä¸æŠ—é”¯é½¿æœ‰å…³ã€‚åœ¨è¿™é‡Œä¸ä»‹ç»æŠ—é”¯é½¿ï¼Œå› æ­¤å°†å…¶ä¿ç•™ä¸º falseã€‚</li><li><code>multiview</code> è¡¨ç¤ºæ¸²æŸ“é™„ä»¶å¯ä»¥æœ‰å¤šå°‘æ•°ç»„å±‚ã€‚æˆ‘ä»¬ä¸ä¼šæ¸²æŸ“åˆ°æ•°ç»„çº¹ç†ï¼Œå› æ­¤å°†å…¶è®¾ç½®ä¸º <code>None</code>ã€‚</li></ol><p>ç°åœ¨æˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠ <code>render_pipeline</code> æ·»åŠ åˆ° <code>State</code>ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨å®ƒäº†!</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// new()</span></span>
<span class="line"><span style="color:#A6ACCD;">Self </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    surface</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    device</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    queue</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    config</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    size</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // æ–°æ·»åŠ !</span></span>
<span class="line"><span style="color:#A6ACCD;">    render_pipeline</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="ä½¿ç”¨ç®¡çº¿" tabindex="-1">ä½¿ç”¨ç®¡çº¿ <a class="header-anchor" href="#ä½¿ç”¨ç®¡çº¿" aria-label="Permalink to &quot;ä½¿ç”¨ç®¡çº¿&quot;">â€‹</a></h2><p>å¦‚æœç°åœ¨è¿è¡Œç¨‹åºï¼Œå®ƒä¼šèŠ±æ›´å¤šçš„æ—¶é—´æ¥å¯åŠ¨ï¼Œä½†ä»ç„¶åªä¼šæ˜¾ç¤ºæˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚å¾—åˆ°çš„è“å±ã€‚å› ä¸ºè™½ç„¶æˆ‘ä»¬åˆ›å»ºäº† <code>render_pipeline</code>ï¼Œä½†è¿˜éœ€è¦ä¿®æ”¹ <code>render()</code> å‡½æ•°ä¸­çš„ä»£ç æ¥å®é™…ä½¿ç”¨å®ƒ:</p><div class="language-rust line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// render()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // 1.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">mut</span><span style="color:#A6ACCD;"> render_pass </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> encoder</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">begin_render_pass</span><span style="color:#89DDFF;">(&amp;</span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">RenderPassDescriptor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        label</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Render Pass</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">        color_attachments</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;[</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            // è¿™å°±æ˜¯ç‰‡å…ƒç€è‰²å™¨ä¸­ @location(0) æ ‡è®°æŒ‡å‘çš„é¢œè‰²é™„ä»¶</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">RenderPassColorAttachment</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                view</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">view</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                resolve_target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">None</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                ops</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Operations</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                    load</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">LoadOp</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">Clear</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">wgpu</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Color</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                            r</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                            g</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                            b</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                            a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">                    store</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">})</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">        depth_stencil_attachment</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">None</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // æ–°æ·»åŠ !</span></span>
<span class="line"><span style="color:#A6ACCD;">    render_pass</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set_pipeline</span><span style="color:#89DDFF;">(&amp;</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">render_pipeline</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // 2.</span></span>
<span class="line"><span style="color:#A6ACCD;">    render_pass</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">draw</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">..</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">..</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // 3.</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>ä¸Šé¢ä»£ç æ‰€åšçš„å°‘é‡ä¿®æ”¹ï¼š</p><ol><li>æŠŠ <code>_render_pass</code> å£°æ˜ä¸ºå¯å˜å˜é‡å¹¶é‡å‘½åä¸º <code>render_pass</code>ã€‚</li><li>åœ¨ <code>render_pass</code> ä¸Šè®¾ç½®åˆšåˆšåˆ›å»ºçš„<strong>ç®¡çº¿</strong>ã€‚</li><li>å‘Šè¯‰ <code>wgpu</code> ç”¨ 3 ä¸ªé¡¶ç‚¹å’Œ 1 ä¸ªå®ä¾‹ï¼ˆå®ä¾‹çš„ç´¢å¼•å°±æ˜¯ <code>@builtin(vertex_index)</code> çš„ç”±æ¥ï¼‰æ¥è¿›è¡Œç»˜åˆ¶ã€‚</li></ol><p>ä¿®æ”¹å®Œä»£ç åï¼Œè¿è¡Œç¨‹åºåº”è¯¥å°±èƒ½çœ‹åˆ°ä¸€ä¸ªå¯çˆ±çš„æ£•è‰²ä¸‰è§’å½¢ï¼š</p><p><img src="/learn-wgpu-zh/assets/tutorial3-pipeline-triangle.d560b6f2.png" alt="å¯çˆ±çš„æ£•è‰²ä¸‰è§’å½¢"></p><h2 id="æŒ‘æˆ˜" tabindex="-1">æŒ‘æˆ˜ <a class="header-anchor" href="#æŒ‘æˆ˜" aria-label="Permalink to &quot;æŒ‘æˆ˜&quot;">â€‹</a></h2><p>åˆ›å»ºç¬¬äºŒä¸ªç®¡çº¿ï¼Œä½¿ç”¨ä¸‰è§’å½¢é¡¶ç‚¹çš„ä½ç½®æ•°æ®æ¥åˆ›å»ºä¸€ä¸ªé¢œè‰²å¹¶å‘é€ç»™ç‰‡å…ƒç€è‰²å™¨ã€‚å½“ä½ æŒ‰ä¸‹ç©ºæ ¼é”®æ—¶è®©åº”ç”¨ç¨‹åºäº¤æ›¿ä½¿ç”¨ä¸¤ä¸ªç®¡çº¿ã€‚<em>æç¤ºï¼šä½ éœ€è¦ä¿®æ”¹</em> <code>VertexOutput</code>ã€‚</p><div id="wasm-example"><!----><!----><button>ç‚¹å‡»è¿è¡Œ Tutorial3_pipeline</button></div><div class="auto-github-link"><a href="https://github.com/jinleili/learn-wgpu-zh/tree/master/code/beginner/tutorial3-pipeline/" target="_blank" rel="noopener noreferrer"> æŸ¥çœ‹æºç ï¼ </a></div></div></div></main><footer class="VPDocFooter" data-v-e9631fd0 data-v-face870a><!--[--><!--]--><div class="edit-info" data-v-face870a><!----><div class="last-updated" data-v-face870a><p class="VPLastUpdated" data-v-face870a data-v-149a99df>ä¸Šæ¬¡æ›´æ–°: <time datetime="2023-07-04T12:43:57.000Z" data-v-149a99df></time></p></div></div><div class="prev-next" data-v-face870a><div class="pager" data-v-face870a><a class="pager-link prev" href="/learn-wgpu-zh/beginner/tutorial2-surface/" data-v-face870a><span class="desc" data-v-face870a>ä¸Šä¸€ç« </span><span class="title" data-v-face870a>å±•ç¤ºå¹³é¢ (Surface)</span></a></div><div class="has-prev pager" data-v-face870a><a class="pager-link next" href="/learn-wgpu-zh/beginner/tutorial4-buffer/" data-v-face870a><span class="desc" data-v-face870a>ä¸‹ä¸€ç« </span><span class="title" data-v-face870a>ç¼“å†²åŒºä¸ç´¢å¼•</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"beginner_tutorial3-pipeline_index.md\":\"d1d45963\",\"beginner_tutorial2-surface_index.md\":\"36778f6b\",\"beginner_tutorial4-buffer_index.md\":\"c5e161db\",\"beginner_tutorial5-textures_index.md\":\"63f45f7b\",\"beginner_tutorial6-uniforms_index.md\":\"1c775123\",\"beginner_tutorial7-instancing_index.md\":\"8f2472c2\",\"beginner_tutorial8-depth_index.md\":\"cc8ad876\",\"beginner_tutorial9-models_index.md\":\"26d87c7c\",\"beginner_wgsl.md\":\"f8aebdd0\",\"integration-and-debugging_index.md\":\"d06409dd\",\"integration-and-debugging_ios_index.md\":\"8814e6ec\",\"integration-and-debugging_bevy_index.md\":\"74a6a879\",\"integration-and-debugging_snapdragon-profiler_index.md\":\"e2002d90\",\"integration-and-debugging_xcode_index.md\":\"43faf6e4\",\"intermediate_compute-pipeline_index.md\":\"36ab8206\",\"intermediate_pbr-notes.md\":\"81b3a5cd\",\"intermediate_tutorial11-normals_index.md\":\"2cc7af00\",\"intermediate_tutorial12-camera_index.md\":\"6cbc4031\",\"intermediate_tutorial13-terrain_index.md\":\"54471ea4\",\"intermediate_vertex-animation_index.md\":\"aa9e08bb\",\"showcase_alignment.md\":\"40397007\",\"intermediate_tutorial10-lighting_index.md\":\"fdbadffc\",\"glossary_of_terms.md\":\"622afe82\",\"showcase_windowless_index.md\":\"2bf276ff\",\"simuverse.md\":\"b8f7b9eb\",\"index.md\":\"9b249f84\",\"showcase_compute_index.md\":\"1e52d6b6\",\"integration-and-debugging_android_index.md\":\"2e0a2714\",\"showcase_gifs_index.md\":\"01c7883b\",\"showcase_threading.md\":\"fbfaadee\",\"beginner_tutorial1-window.md\":\"794809fb\",\"showcase_pong_index.md\":\"7e580c9e\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"å­¦ä¹  wgpu\",\"description\":\"wgpuï¼šä¸‹ä¸€ä»£è·¨å¹³å°å›¾å½¢æ¥å£ WebGPU çš„ Rust å®ç°\",\"base\":\"/learn-wgpu-zh/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/res/wgpu-logo.png\",\"lastUpdated\":true,\"lastUpdatedText\":\"ä¸Šæ¬¡æ›´æ–°\",\"docFooter\":{\"prev\":\"ä¸Šä¸€ç« \",\"next\":\"ä¸‹ä¸€ç« \"},\"outlineTitle\":\"æœ¬ç« å†…å®¹\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/jinleili/learn-wgpu-zh\"}],\"nav\":[{\"text\":\"Simuverse\",\"link\":\"/simuverse\"},{\"text\":\"wgpu-in-app\",\"link\":\"https://github.com/jinleili/wgpu-in-app\"},{\"text\":\"bevy-in-app\",\"link\":\"https://github.com/jinleili/bevy-in-app\"}],\"sidebar\":{\"/\":[{\"text\":\"åŸºç¡€\",\"collapsible\":true,\"items\":[{\"text\":\"ä¾èµ–ä¸çª—å£\",\"link\":\"/beginner/tutorial1-window\"},{\"text\":\"å±•ç¤ºå¹³é¢ (Surface)\",\"link\":\"/beginner/tutorial2-surface/\"},{\"text\":\"ç®¡çº¿ (Pipeline)\",\"link\":\"/beginner/tutorial3-pipeline/\"},{\"text\":\"ç¼“å†²åŒºä¸ç´¢å¼•\",\"link\":\"/beginner/tutorial4-buffer/\"},{\"text\":\"çº¹ç†å’Œç»‘å®šç»„\",\"link\":\"/beginner/tutorial5-textures/\"},{\"text\":\"Uniform ç¼“å†²åŒºä¸ 3D è™šæ‹Ÿæ‘„åƒæœº\",\"link\":\"/beginner/tutorial6-uniforms/\"},{\"text\":\"å®ä¾‹åŒ–ç»˜åˆ¶\",\"link\":\"/beginner/tutorial7-instancing/\"},{\"text\":\"æ·±åº¦ç¼“å†²åŒº\",\"link\":\"/beginner/tutorial8-depth/\"},{\"text\":\"æ¨¡å‹åŠ è½½\",\"link\":\"/beginner/tutorial9-models/\"},{\"text\":\"ğŸ†• WGSL ç€è‰²å™¨è¯­è¨€\",\"link\":\"/beginner/wgsl\"}]},{\"text\":\"è¿›é˜¶\",\"collapsible\":true,\"items\":[{\"text\":\"å…‰ç…§\",\"link\":\"/intermediate/tutorial10-lighting/\"},{\"text\":\"æ³•çº¿æ˜ å°„\",\"link\":\"/intermediate/tutorial11-normals/\"},{\"text\":\"æ›´å¥½çš„æ‘„åƒæœº\",\"link\":\"/intermediate/tutorial12-camera/\"},{\"text\":\"ğŸ†• è®¡ç®—ç®¡çº¿\",\"link\":\"/intermediate/compute-pipeline/\"},{\"text\":\"ğŸ†• é¡¶ç‚¹åŠ¨ç”»\",\"link\":\"/intermediate/vertex-animation/\"}]},{\"text\":\"é›†æˆä¸è°ƒè¯•\",\"collapsible\":true,\"items\":[{\"text\":\"æ¥”å­\",\"link\":\"/integration-and-debugging/\"},{\"text\":\"ğŸ†• ä¸ iOS App é›†æˆ\",\"link\":\"/integration-and-debugging/ios/\"},{\"text\":\"ğŸ†• ä¸ Android App é›†æˆ\",\"link\":\"/integration-and-debugging/android/\"},{\"text\":\"ğŸ†• ä½¿ç”¨ Xcode è°ƒè¯• wgpu ç¨‹åº\",\"link\":\"/integration-and-debugging/xcode/\"},{\"text\":\"ğŸ†• ä½¿ç”¨ Snapdragon Profiler è°ƒè¯•\",\"link\":\"/integration-and-debugging/snapdragon-profiler/\"},{\"text\":\"ğŸ†• åœ¨ iOS Android App ä¸­é›†æˆ Bevy æ¸¸æˆå¼•æ“\",\"link\":\"/integration-and-debugging/bevy/\"}]},{\"text\":\"æ¡ˆä¾‹å±•ç¤º\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"ç¦»å±æ¸²æŸ“\",\"link\":\"/showcase/windowless/\"},{\"text\":\"ç”Ÿæˆ GIF åŠ¨å›¾\",\"link\":\"/showcase/gifs/\"},{\"text\":\"Pong\",\"link\":\"/showcase/pong/\"},{\"text\":\"Compute Example: Tangents and Bitangents\",\"link\":\"/showcase/compute/\"}]},{\"text\":\"é™„å½•\",\"items\":[{\"text\":\"ä»‹ç»\",\"link\":\"/index\"},{\"text\":\"æœ¯è¯­ä¸­è‹±å¯¹ç…§è¡¨\",\"link\":\"/GLOSSARY_OF_TERMS\"}]}]}},\"locales\":{\"root\":{\"label\":\"ä¸­æ–‡\"},\"en\":{\"label\":\"English\",\"link\":\"https://sotrh.github.io/learn-wgpu/\"}},\"scrollOffset\":90,\"cleanUrls\":true}")</script>
    
  </body>
</html>